(this["webpackJsonpbasic-flashcards-react"]=this["webpackJsonpbasic-flashcards-react"]||[]).push([[12],{177:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(28),a=n.n(r),c=n(24),i=n(47),s=n(31),o=n(32),u=n(39),l=n(46),d=new(function(){function t(e){Object(s.a)(this,t),this.http=e}return Object(o.a)(t,[{key:"create",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r,i,s,o,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.title,r=e.description,i=e.visibility,s=e.cards,t.next=3,this.http.post("/decks",{authorId:u.a.getCurrentUser(),title:n,description:r,visibility:i,cards:s.map((function(t){var e=Object(c.a)(t.sides,2);return{frontText:e[0].text,backText:e[1].text}}))});case 3:return o=t.sent,l=o.data,t.abrupt("return",l);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"findOne",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.get("/decks/".concat(e));case 2:return n=t.sent,r=n.data,t.abrupt("return",p(r));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"findAll",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.get("/decks",{params:e});case 2:return n=t.sent,r=n.data,t.abrupt("return",{decks:r.decks.map(p),count:r.count});case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r,i,s,o,l,d;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,r=e.title,i=e.description,s=e.visibility,o=e.cards,t.next=3,this.http.put("/decks/".concat(n),{authorId:u.a.getCurrentUser(),title:r,description:i,visibility:s,cards:o.map((function(t){var e=t.id,n=Object(c.a)(t.sides,2);return{id:e,frontText:n[0].text,backText:n[1].text}}))});case 3:return l=t.sent,d=l.data,t.abrupt("return",d);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"remove",value:function(){var t=Object(i.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.http.delete("/decks/".concat(e)));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}())(l.a);function p(t){return{id:t.id,authorId:t.authorId,title:t.title,description:t.description,visibility:t.visibility,cards:t.cards.map((function(t){return{id:t.id,sides:[{text:t.frontText},{text:t.backText}]}})),tags:[]}}},179:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(24),a=n(192),c=n(4),i=n(0),s=n(157),o=Object(s.a)({root:{display:"flex",justifyContent:"center"}}),u=n(2);function l(t){var e=t.loading,n=t.children,s=t.className,l=t.delay,d=void 0===l?300:l,p=o(),f=Object(i.useState)(d<=0),h=Object(r.a)(f,2),j=h[0],b=h[1];return Object(i.useEffect)((function(){var t=setTimeout((function(){b(!0)}),d);return function(){return clearTimeout(t)}}),[d]),e?Object(u.jsx)("div",{className:Object(c.a)(p.root,s),children:j&&Object(u.jsx)(a.a,{})}):Object(u.jsx)(u.Fragment,{children:n})}},180:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(191),a=n(25),c=n(2);function i(t){var e=t.to,n=t.color,i=t.children;return Object(c.jsx)(r.a,{component:a.b,to:e,color:n,children:i})}},181:function(t,e,n){"use strict";function r(t){return"/decks/".concat(t)}n.d(e,"a",(function(){return r}))},186:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(129),a=n(130),c=n(162),i=n(180),s=n(157),o=Object(s.a)((function(t){return{root:{cursor:"pointer",padding:t.spacing(2),"&:hover":{backgroundColor:t.palette.action.hover}},title:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},buttonBox:{display:"flex",justifyContent:"flex-end"},deleteButton:{color:t.palette.error.dark}}})),u=n(2);function l(t){var e=t.title,n=(t.deckId,t.numberOfCards),s=t.author,l=t.onClick,d=t.onDelete,p=t.onExport,f=t.onEdit,h=o();return Object(u.jsxs)(r.a,{className:h.root,onClick:l,children:[Object(u.jsx)(a.a,{className:h.title,variant:"h5",component:"div",children:e}),Object(u.jsx)(a.a,{children:"".concat(n," cards")}),s&&Object(u.jsxs)(a.a,{onClick:function(t){return t.stopPropagation()},component:"span",children:["By ",Object(u.jsx)(i.a,{to:"/users/".concat(s),children:s})]}),(d||p||f)&&Object(u.jsxs)("div",{className:h.buttonBox,children:[d&&Object(u.jsx)(c.a,{className:h.deleteButton,onClick:function(t){t.stopPropagation(),d()},children:"Delete"}),p&&Object(u.jsx)(c.a,{onClick:function(t){t.stopPropagation(),p()},children:"Export"}),f&&Object(u.jsx)(c.a,{color:"primary",onClick:function(t){t.stopPropagation(),f()},children:"Edit"})]})]})}},337:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return O}));var r=n(24),a=n(303),c=n(0),i=n(9),s=n(179),o=n(186),u=n(12),l=n(181),d=n(177),p=n(157),f=Object(p.a)((function(t){return{content:{height:"100%",padding:t.spacing(3)},paginationContainer:{display:"flex",flexDirection:"column",gap:t.spacing(2)},paginationControls:{display:"flex",justifyContent:"center"},results:{display:"flex",flexDirection:"column",gap:t.spacing(1)},emptyResults:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"100%"},emptyResultsIcon:{fontSize:t.typography.h1.fontSize}}}));function h(t,e,n){return Math.max(t,Math.min(e,n))}var j=n(164),b=n(194),v=n(130),x=n(2);function O(){var t,e=f(),n=Object(c.useState)([]),p=Object(r.a)(n,2),O=p[0],m=p[1],g=Object(c.useState)(0),k=Object(r.a)(g,2),y=k[0],C=k[1],w=Object(i.h)().search,I=new URLSearchParams(w),N=null!==(t=I.get("term"))&&void 0!==t?t:"",S=I.get("pageSize"),E=h(1,50,S?+S:10),R=Math.max(1,Math.ceil(y/E)),T=I.get("page"),U=h(1,R,T?+T:1),B=I.get("from"),D=Object(c.useState)(!0),P=Object(r.a)(D,2),z=P[0],M=P[1],A=Object(i.g)();Object(c.useEffect)((function(){B&&(I.delete("from"),A.replace({search:I.toString()}))})),Object(c.useEffect)((function(){if(!B){if(!N)return M(!1),void m([]);M(!0),d.a.findAll({titleContains:N,caseInsensitive:!0,take:E,skip:(U-1)*E}).then((function(t){var e=t.decks,n=t.count;m(e),C(n)})).finally((function(){return M(!1)}))}}),[B,U,E,N]);var J=Object(x.jsxs)("div",{className:e.paginationContainer,children:[Object(x.jsx)("div",{className:e.results,children:O.map((function(t){var e,n;return Object(x.jsx)(o.a,{deckId:null!==(e=t.id)&&void 0!==e?e:"",title:t.title,numberOfCards:t.cards.length,author:null!==(n=t.authorId)&&void 0!==n?n:"",onClick:function(){var e;return A.push(Object(l.a)(null!==(e=t.id)&&void 0!==e?e:""))}},t.id)}))}),y/E>1&&Object(x.jsx)("div",{className:e.paginationControls,children:Object(x.jsx)(a.a,{count:R,page:U,onChange:function(t,e){return A.push({pathname:u.a.deckSearch,search:"?term=".concat(encodeURIComponent(N),"&page=").concat(encodeURIComponent(e),"&pageSize=").concat(encodeURIComponent(E))})},disabled:z})})]}),F=Object(x.jsxs)(b.a,{className:e.emptyResults,children:[Object(x.jsx)(j.a,{className:e.emptyResultsIcon}),Object(x.jsx)(v.a,{variant:"h4",component:"div",children:"No results found"}),Object(x.jsx)(v.a,{children:"Enter a new search and results will show up here."})]});return Object(x.jsx)("div",{className:e.content,children:Object(x.jsx)(s.a,{loading:z,children:y>0?J:F})})}}}]);
//# sourceMappingURL=12.db15abfd.chunk.js.map
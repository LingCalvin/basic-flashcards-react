(this["webpackJsonpbasic-flashcards-react"]=this["webpackJsonpbasic-flashcards-react"]||[]).push([[15],{124:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(0),c=0;function r(){return Object(a.useRef)("uid".concat(c++)).current}},125:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(49),c=n(349);function r(){var t=Object(a.a)();return Object(c.a)(t.breakpoints.down("xs"),{noSsr:!0})}},126:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n(387),c=n(348),r=n(20),i=n(347),s=Object(i.a)((function(t){return{root:{color:t.palette.getContrastText(t.palette.grey[600]),backgroundColor:t.palette.grey[600],display:"flex"},text:{fontSize:t.typography.h4.fontSize,fontWeight:t.typography.fontWeightBold}}})),o=n(2);function l(t){var e=t.username,n=t.className,i=t.typographyClassName,l=s();return Object(o.jsx)(a.a,{className:Object(r.a)(l.root,n),"aria-hidden":!0,children:void 0!==e&&Object(o.jsx)(c.a,{className:Object(r.a)(l.text,i),component:"div",children:e.substring(0,1).toLocaleUpperCase()})})}},127:function(t,e,n){"use strict";n.d(e,"a",(function(){return W}));var a=n(360),c=n(354),r=n(27),i=n(329),s=n(348),o=n(352),l=n(388),u=n(353),d=n(351),j=n(389),p=n(355),b=n(358),h=n(359),f=n(356),x=n(357),O=n(20),m=n(0),g=n(3),v=n(28),k=n(29),y=n(45),N=n(125),S=n(7),C=n(46),w=n(347),T=Object(w.a)((function(t){var e;return{button:{whiteSpace:"nowrap"},homeLink:{textTransform:"none"},titleContainer:{flexGrow:1},avatarButton:{padding:t.spacing(.5)},avatarText:{fontSize:t.typography.h5.fontSize,fontWeight:t.typography.fontWeightBold},menuUsername:{textAlign:"center",padding:t.spacing(1),fontWeight:t.typography.fontWeightBold},searchBar:(e={},Object(C.a)(e,t.breakpoints.down("xs"),{width:"100%"}),Object(C.a)(e,"maxWidth","600px"),Object(C.a)(e,"width","100%"),e),searchBarInput:Object(C.a)({paddingLeft:t.spacing(1),paddingRight:t.spacing(1),paddingTop:t.spacing(.5),paddingBottom:t.spacing(.5),width:"100%"},t.breakpoints.down("xs"),{paddingRight:0}),toolbar:{gap:t.spacing(1)}}})),B=n(126),I=n(2);function F(){var t=T(),e=Object(g.h)(),n=Object(N.a)(),a=Object(m.useState)(null),C=Object(r.a)(a,2),w=C[0],F=C[1],L=Object(m.useContext)(k.a),W=function(){return F(null)},z=Object(g.g)(),A=Object(m.useState)(!1),U=Object(r.a)(A,2),D=U[0],E=U[1],R=Object(m.useState)(""),G=Object(r.a)(R,2),J=G[0],M=G[1],P=new URLSearchParams(e.search).get("from"),V=null!==P&&void 0!==P?P:S.a.home,X=Object(I.jsxs)(i.a,{open:null!==w,anchorEl:w,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},getContentAnchorEl:void 0,onClose:W,children:[Object(I.jsx)(s.a,{className:t.menuUsername,children:null===L||void 0===L?void 0:L.username.toLocaleUpperCase()}),Object(I.jsx)(o.a,{}),Object(I.jsx)(l.a,{onClick:function(){W(),z.push(S.a.accountSettings)},children:"Manage account"}),Object(I.jsx)(l.a,{onClick:function(){F(null),y.a.logOut().then((function(){return z.push(S.a.home)}))},children:"Sign out"})]}),q=Object(I.jsx)(B.a,{username:null===L||void 0===L?void 0:L.username}),H=y.a.isAuthenticated()?Object(I.jsx)(u.a,{"aria-label":"Account settings",className:t.avatarButton,color:"inherit",onClick:function(t){return F(t.currentTarget)},children:q}):Object(I.jsx)(c.a,{className:t.button,component:v.b,to:S.a.login,color:"inherit",children:"Log in"}),K=Object(I.jsx)(d.a,{className:t.searchBar,children:Object(I.jsx)("form",{onSubmit:function(t){t.preventDefault(),z.push({pathname:S.a.deckSearch,search:"?from=".concat(encodeURIComponent(e.pathname),"&term=").concat(encodeURIComponent(J))})},children:Object(I.jsx)(j.a,{inputProps:{"aria-label":"Search"},value:J,autoFocus:n,fullWidth:n,placeholder:"Search",className:t.searchBarInput,startAdornment:Object(I.jsx)(p.a,{position:"start",children:Object(I.jsx)(f.a,{})}),endAdornment:n?Object(I.jsx)(p.a,{position:"end",children:Object(I.jsx)(u.a,{"aria-label":"close search",onClick:e.pathname===S.a.deckSearch?function(){E(!1),M(""),z.push(V)}:function(){E(!1),M("")},children:Object(I.jsx)(x.a,{})})}):void 0,onChange:function(t){return M(t.target.value)}})})}),Q=Object(I.jsx)(b.a,{className:t.toolbar,children:e.pathname===S.a.deckSearch||D?K:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:t.titleContainer,children:Object(I.jsx)(c.a,{color:"inherit",component:v.b,to:S.a.home,className:Object(O.a)(t.button,t.homeLink),children:Object(I.jsx)(s.a,{variant:"h6",component:"span",children:"Basic Flashcards"})})}),Object(I.jsx)(u.a,{"aria-label":"toggle search",color:"inherit",onClick:function(){return E(!0)},children:Object(I.jsx)(f.a,{})}),H]})}),Y=Object(I.jsxs)(b.a,{className:t.toolbar,children:[Object(I.jsx)("div",{className:t.titleContainer,children:Object(I.jsx)(c.a,{color:"inherit",component:v.b,to:S.a.home,className:Object(O.a)(t.button,t.homeLink),children:Object(I.jsx)(s.a,{variant:"h6",component:"span",children:"Basic Flashcards"})})}),K,H]});return Object(I.jsxs)(h.a,{position:"sticky",children:[X,n?Q:Y]})}var L=Object(w.a)((function(t){return{page:{display:"flex",flexDirection:"column",height:"100%"},content:{flexGrow:1,overflow:"auto"},skipLink:{position:"fixed",top:t.spacing(-10),left:t.spacing(2),color:t.palette.secondary.dark,backgroundColor:t.palette.background.paper,textTransform:"none",zIndex:t.zIndex.appBar+1,transition:t.transitions.create(["top"],{duration:t.transitions.duration.leavingScreen,easing:t.transitions.easing.easeOut}),"&:focus":{top:t.spacing(2),left:t.spacing(2),textDecoration:"underline",transition:t.transitions.create(["top"],{duration:t.transitions.duration.enteringScreen,easing:t.transitions.easing.easeIn})}}}}));function W(t){var e=t.skipLinks,n=t.children,r=L();return Object(I.jsxs)(I.Fragment,{children:[void 0!==e&&Object(I.jsx)(I.Fragment,{children:e.map((function(t,e){var n=t.fragment,i=t.text;return Object(I.jsx)(a.a,{className:r.skipLink,tabIndex:0,onClick:function(t){t.target.blur(),function(t){var e=document.querySelector("#".concat(t));null===e||void 0===e||e.scrollIntoView(),null===e||void 0===e||e.focus()}(n)},component:c.a,color:"secondary",disableRipple:!0,children:i},e)}))}),Object(I.jsxs)("div",{className:r.page,children:[Object(I.jsx)(F,{}),Object(I.jsx)("div",{className:r.content,children:n})]})]})}},132:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n(14),c=n.n(a),r=n(27),i=n(23),s=n(18),o=n(19),l=n(45),u=n(30),d=new(function(){function t(e){Object(s.a)(this,t),this.http=e}return Object(o.a)(t,[{key:"create",value:function(){var t=Object(i.a)(c.a.mark((function t(e){var n,a,i,s,o,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.title,a=e.description,i=e.visibility,s=e.cards,t.next=3,this.http.post("/decks",{authorId:l.a.getCurrentUser(),title:n,description:a,visibility:i,cards:s.map((function(t){var e=Object(r.a)(t.sides,2);return{frontText:e[0].text,backText:e[1].text}}))});case 3:return o=t.sent,u=o.data,t.abrupt("return",u);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"findOne",value:function(){var t=Object(i.a)(c.a.mark((function t(e){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.get("/decks/".concat(e));case 2:return n=t.sent,a=n.data,t.abrupt("return",j(a));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"findAll",value:function(){var t=Object(i.a)(c.a.mark((function t(e){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.get("/decks",{params:e});case 2:return n=t.sent,a=n.data,t.abrupt("return",{decks:a.decks.map(j),count:a.count});case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=Object(i.a)(c.a.mark((function t(e){var n,a,i,s,o,u,d;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,a=e.title,i=e.description,s=e.visibility,o=e.cards,t.next=3,this.http.put("/decks/".concat(n),{authorId:l.a.getCurrentUser(),title:a,description:i,visibility:s,cards:o.map((function(t){var e=t.id,n=Object(r.a)(t.sides,2);return{id:e,frontText:n[0].text,backText:n[1].text}}))});case 3:return u=t.sent,d=u.data,t.abrupt("return",d);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"remove",value:function(){var t=Object(i.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.http.delete("/decks/".concat(e)));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}())(u.a);function j(t){return{id:t.id,authorId:t.authorId,title:t.title,description:t.description,visibility:t.visibility,cards:t.cards.map((function(t){return{id:t.id,sides:[{text:t.frontText},{text:t.backText}]}})),tags:[]}}},135:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n(27),c=n(179),r=n(20),i=n(0),s=n(347),o=Object(s.a)({root:{display:"flex",justifyContent:"center"}}),l=n(2);function u(t){var e=t.loading,n=t.children,s=t.className,u=t.delay,d=void 0===u?300:u,j=o(),p=Object(i.useState)(d<=0),b=Object(a.a)(p,2),h=b[0],f=b[1];return Object(i.useEffect)((function(){var t=setTimeout((function(){f(!0)}),d);return function(){return clearTimeout(t)}}),[d]),e?Object(l.jsx)("div",{className:Object(r.a)(j.root,s),children:h&&Object(l.jsx)(c.a,{})}):Object(l.jsx)(l.Fragment,{children:n})}},142:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(360),c=n(28),r=n(2);function i(t){var e=t.to,n=t.color,i=t.children;return Object(r.jsx)(a.a,{component:c.b,to:e,color:n,children:i})}},378:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return U}));var a=n(143),c=n(27),r=n(348),i=n(390),s=n(391),o=n(0),l=n.n(o),u=n(3),d=n(142),j=n(135),p=n(127),b=n(124),h=n(352),f=n(347),x=Object(f.a)((function(t){return{root:{display:"grid",gridTemplateColumns:"2fr auto 3fr",columnGap:t.spacing(2),gap:t.spacing(3)}}})),O=n(2);function m(t){var e=t.cards,n=x();return Object(O.jsx)("div",{className:n.root,children:e.map((function(t){var e;return Object(O.jsxs)(l.a.Fragment,{children:[Object(O.jsx)(r.a,{children:t.sides[0].text}),Object(O.jsx)(h.a,{orientation:"vertical"}),Object(O.jsx)(r.a,{children:t.sides[1].text})]},null!==(e=t.id)&&void 0!==e?e:JSON.stringify(t))}))})}var g=n(20),v=n(371),k=n(372),y=Object(f.a)((function(t){return{root:{display:"flex",flexDirection:"column",justifyContent:"center"},content:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",padding:t.spacing(3)},typography:{fontSize:t.typography.h5.fontSize}}}));function N(t){var e=t.text,n=t.className,a=y();return Object(O.jsx)(v.a,{className:Object(g.a)(a.root,n),children:Object(O.jsx)(k.a,{className:a.content,children:Object(O.jsx)(r.a,{className:a.typography,children:e})})})}var S=Object(f.a)({root:{display:"grid",gridTemplateAreas:'"main"',transformStyle:"preserve-3d"},cardFlipTransition:{transition:"transform 0.3s"},flip:{transform:"rotateX(180deg)"},cardSide:{gridArea:"main",backfaceVisibility:"hidden"},cardBack:{transform:"rotateX(180deg)"}});function C(t){var e=t.frontText,n=t.backText,a=t.showBack,c=t.className,r=t.onFlip,i=S();return Object(O.jsxs)("div",{className:Object(g.a)(i.root,i.cardFlipTransition,a&&i.flip,c),onClick:r,children:[Object(O.jsx)(N,{className:i.cardSide,text:e}),Object(O.jsx)(N,{className:Object(g.a)(i.cardSide,i.cardBack),text:n})]})}var w=Object(f.a)({card:{height:"100%",width:"100%"},hiddenCard:{display:"none"}});function T(t){var e=t.cards,n=t.activeIndex,a=t.showCardBack,r=t.className,i=t.onFlipCard,s=e[n],l=w(),u=Object(o.useState)(!1),d=Object(c.a)(u,2),j=d[0],p=d[1];return Object(o.useLayoutEffect)((function(){p(!0)}),[n]),Object(o.useLayoutEffect)((function(){j&&p(!1)}),[j]),s?Object(O.jsx)("div",{className:r,children:!j&&Object(O.jsx)(C,{className:l.card,frontText:s.sides[0].text,backText:s.sides[1].text,showBack:a,onFlip:i})}):Object(O.jsx)("div",{className:r,children:!j&&Object(O.jsx)(C,{className:l.card,frontText:"",backText:"",showBack:!1,onFlip:function(){}})})}var B=n(353),I=n(373),F=n(374),L=Object(f.a)({root:{display:"flex",alignItems:"center"},positionIndicator:{width:"10ch"}});function W(t){var e=t.currentIndex,n=t.numberOfCards,a=t.onBack,c=t.onForward,i=L();return Object(O.jsxs)("div",{className:i.root,children:[Object(O.jsx)(B.a,{"aria-label":"previous card",onClick:a,disabled:0===e||0===n,children:Object(O.jsx)(I.a,{})}),Object(O.jsx)("div",{children:Object(O.jsx)(r.a,{variant:"subtitle2",component:"span",align:"center",className:i.positionIndicator,children:"".concat(n>0?e+1:0,"/").concat(n)})}),Object(O.jsx)(B.a,{"aria-label":"next card",onClick:c,disabled:e===n-1||0===n,children:Object(O.jsx)(F.a,{})})]})}var z=n(132),A=Object(f.a)((function(t){return{root:{display:"flex",flexDirection:"column",gap:t.spacing(2),padding:t.spacing(3)},deckStack:{height:280,width:"100%",maxWidth:397},deckStackContainer:{display:"flex",flexDirection:"column",alignItems:"center"},section:{display:"flex",flexDirection:"column",gap:t.spacing(1)},progressBar:{width:"100%",maxWidth:400},tagList:{display:"flex",flexWrap:"wrap",gap:t.spacing(.5)}}}));function U(){var t=A(),e=Object(o.useState)(0),n=Object(c.a)(e,2),l=n[0],h=n[1],f=Object(o.useState)(!1),x=Object(c.a)(f,2),g=x[0],v=x[1],k=Object(u.i)().id,y=Object(o.useState)(!0),N=Object(c.a)(y,2),S=N[0],C=N[1],w=Object(o.useState)(null),B=Object(c.a)(w,2),I=B[0],F=B[1];Object(o.useEffect)((function(){C(!0),z.a.findOne(k).then((function(t){return F(t)})).finally((function(){return C(!1)}))}),[k]),Object(o.useLayoutEffect)((function(){v(!1)}),[l]);var L=Object(o.useMemo)((function(){return(null===I||void 0===I?void 0:I.tags)?Object(a.a)(I.tags).sort():[]}),[null===I||void 0===I?void 0:I.tags]),U=Object(b.a)(),D=Object(b.a)(),E=Object(b.a)();return Object(O.jsx)(p.a,{skipLinks:[{fragment:"content",text:"Skip to content"},{fragment:U,text:"Skip to cards"},{fragment:D,text:"Skip to tags"},{fragment:E,text:"Skip to terms"}],children:Object(O.jsx)("main",{className:t.root,children:Object(O.jsx)(j.a,{loading:S,children:I&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(r.a,{variant:"h1",children:I.title}),Object(O.jsxs)(r.a,{variant:"subtitle1",component:"div",children:["by ",Object(O.jsx)(d.a,{to:"/users/".concat(I.authorId),children:I.authorId})]})]}),Object(O.jsx)("section",{id:U,className:t.section,children:Object(O.jsxs)("div",{className:t.deckStackContainer,children:[Object(O.jsx)(T,{className:t.deckStack,cards:I.cards,activeIndex:l,showCardBack:g,onFlipCard:function(){return v((function(t){return!t}))}}),Object(O.jsx)(W,{currentIndex:l,numberOfCards:I.cards.length,onBack:function(){h((function(t){return t-1}))},onForward:function(){h((function(t){return t+1}))}}),Object(O.jsx)(i.a,{"aria-label":"current card slider",className:t.progressBar,value:1!==I.cards.length?l:1,max:1!==I.cards.length?I.cards.length-1:1,valueLabelFormat:function(t){return t+1},onChange:I.cards.length>1?function(t,e){return h(e)}:void 0})]})}),Object(O.jsxs)("section",{id:D,className:t.section,children:[Object(O.jsx)(r.a,{variant:"h2",children:"Tags"}),Object(O.jsx)("div",{className:t.tagList,children:L.map((function(t){return Object(O.jsx)(s.a,{label:t,variant:"outlined"},t)}))})]}),Object(O.jsxs)("section",{id:E,className:t.section,children:[Object(O.jsx)(r.a,{variant:"h2",children:"Terms"}),Object(O.jsx)(m,{cards:I.cards})]})]})})})})}}}]);
//# sourceMappingURL=15.30170975.chunk.js.map
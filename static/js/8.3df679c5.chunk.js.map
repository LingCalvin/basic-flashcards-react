{"version":3,"sources":["common/hooks/use-unique-id.tsx","common/hooks/use-is-mobile.tsx","common/components/avatar.styles.tsx","common/components/avatar.tsx","common/components/app-bar.styles.tsx","common/components/app-bar.tsx","common/components/page.styles.tsx","common/components/page.tsx","common/components/text-field.tsx","deck/services/decks.service.ts","common/components/loadable-component.styles.tsx","common/components/loadable-component.tsx","common/constants/snackbar.ts","common/components/link.tsx","dashboard/components/deck-info-tile.styles.tsx","dashboard/components/deck-info-tile.tsx","router/utils/route.utils.ts","dashboard/pages/dashboard.page.styles.tsx","dashboard/components/delete-deck-dialog.tsx","dashboard/pages/dashboard.page.tsx","common/hooks/use-debounced-value.tsx","common/utils/download.utils.ts"],"names":["uniqueIdNumber","useUniqueId","useRef","current","useIsMobile","theme","useTheme","useMediaQuery","breakpoints","down","noSsr","useStyles","makeStyles","root","color","palette","getContrastText","grey","backgroundColor","display","text","fontSize","typography","h4","fontWeight","fontWeightBold","Avatar","username","className","typographyClassName","classes","clsx","aria-hidden","undefined","Typography","component","substring","toLocaleUpperCase","button","whiteSpace","homeLink","textTransform","titleContainer","flexGrow","avatarButton","padding","spacing","avatarText","h5","menuUsername","textAlign","searchBar","width","searchBarInput","paddingLeft","paddingRight","paddingTop","paddingBottom","toolbar","gap","AppBar","location","useLocation","isMobile","useState","menuAnchor","setMenuAnchor","credentials","useContext","CredentialsContext","closeMenu","history","useHistory","showSearchBar","setShowSearchBar","searchTerm","setSearchTerm","from","URLSearchParams","search","get","previousLocation","routes","home","menu","Menu","open","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","onClose","Divider","MenuItem","onClick","push","accountSettings","authService","logOut","then","avatar","loginProfile","isAuthenticated","IconButton","aria-label","e","currentTarget","Button","Link","to","login","Paper","onSubmit","preventDefault","pathname","deckSearch","encodeURIComponent","InputBase","inputProps","value","autoFocus","fullWidth","placeholder","startAdornment","InputAdornment","position","Search","endAdornment","Close","onChange","target","mobileToolbar","Toolbar","variant","standardToolbar","page","flexDirection","height","content","overflow","skipLink","top","left","secondary","dark","background","paper","zIndex","appBar","transition","transitions","create","duration","leavingScreen","easing","easeOut","textDecoration","enteringScreen","easeIn","Page","skipLinks","children","map","i","fragment","tabIndex","blur","element","document","querySelector","scrollIntoView","focus","scrollToAnchor","disableRipple","TextField","props","id","decksService","http","a","title","description","visibility","cards","this","post","authorId","getCurrentUser","sides","frontText","backText","data","findOneDeckResponseToDeck","params","decks","count","put","cardId","delete","apiClient","card","tags","justifyContent","LoadableComponent","loading","delay","showProgress","setShowProgress","useEffect","timeout","setTimeout","clearTimeout","CircularProgress","autoHideDuration","RouterLink","textOverflow","buttonBox","deleteButton","error","main","DeckInfoTile","deckId","numberOfCards","author","onDelete","onExport","onEdit","stopPropagation","paginationContainer","paginationControls","deckList","sortAndSearchContainer","fab","bottom","right","alignItems","marginLeft","uploadInput","snackbar","DeleteDeckDialog","deckTitle","onBackDropClick","onCancel","onExited","Dialog","onBackdropClick","DialogTitle","DialogContent","DialogContentText","DialogActions","DashboardPage","pageSize","userId","Error","initialLoad","setInitialLoad","loadedDecks","setLoadedDecks","totalDecks","setTotalDecks","setPage","setLoading","setSearch","searchValue","debouncedValue","setDebouncedValue","lastFired","Date","now","handle","useDebouncedValue","short","exportDeck","deck","deckJSON","JSON","stringify","blob","blobLink","window","URL","createObjectURL","createElement","href","download","click","revokeObjectURL","downloadBlob","Blob","type","findDecks","findAll","res","finally","orderTitleBy","take","skip","caseInsensitive","titleContains","showDialog","setShowDialog","deckToDelete","setDeckToDelete","showSnackbar","setShowSnackbar","snackbarMessage","setSnackbarMessage","remove","label","select","accept","hidden","changeEvent","reader","FileReader","file","files","onload","result","parse","catch","readAsText","deckAdd","length","Pagination","Math","ceil","_e","disabled","Fab","Add","Snackbar","message"],"mappings":"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","file":"static/js/8.3df679c5.chunk.js","sourcesContent":["import { useRef } from 'react';\n\nlet uniqueIdNumber = 0;\n\nexport default function useUniqueId() {\n  const uniqueId = useRef(`uid${uniqueIdNumber++}`);\n  return uniqueId.current;\n}\n","import { useMediaQuery, useTheme } from '@material-ui/core';\n\nexport default function useIsMobile() {\n  const theme = useTheme();\n  const match = useMediaQuery(theme.breakpoints.down('xs'), { noSsr: true });\n  return match;\n}\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    color: theme.palette.getContrastText(theme.palette.grey[600]),\n    backgroundColor: theme.palette.grey[600],\n    display: 'flex',\n  },\n  text: {\n    fontSize: theme.typography.h4.fontSize,\n    fontWeight: theme.typography.fontWeightBold,\n  },\n}));\n\nexport default useStyles;\n","import { Avatar as MuiAvatar, Typography } from '@material-ui/core';\nimport clsx from 'clsx';\nimport useStyles from './avatar.styles';\n\nexport interface AvatarProps {\n  username?: string;\n  className?: string;\n  typographyClassName?: string;\n}\n\nexport default function Avatar({\n  username,\n  className,\n  typographyClassName,\n}: AvatarProps) {\n  const classes = useStyles();\n  return (\n    <MuiAvatar className={clsx(classes.root, className)} aria-hidden>\n      {username !== undefined && (\n        <Typography\n          className={clsx(classes.text, typographyClassName)}\n          component=\"div\"\n        >\n          {username.substring(0, 1).toLocaleUpperCase()}\n        </Typography>\n      )}\n    </MuiAvatar>\n  );\n}\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    whiteSpace: 'nowrap',\n  },\n  homeLink: {\n    textTransform: 'none',\n  },\n  titleContainer: {\n    flexGrow: 1,\n  },\n  avatarButton: {\n    padding: theme.spacing(0.5),\n  },\n  avatarText: {\n    fontSize: theme.typography.h5.fontSize,\n    fontWeight: theme.typography.fontWeightBold,\n  },\n  menuUsername: {\n    textAlign: 'center',\n    padding: theme.spacing(1),\n    fontWeight: theme.typography.fontWeightBold,\n  },\n  searchBar: {\n    [theme.breakpoints.down('xs')]: {\n      width: '100%',\n    },\n    maxWidth: '600px',\n    width: '100%',\n  },\n  searchBarInput: {\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    paddingTop: theme.spacing(0.5),\n    paddingBottom: theme.spacing(0.5),\n    width: '100%',\n    [theme.breakpoints.down('xs')]: {\n      paddingRight: 0,\n    },\n  },\n  toolbar: {\n    gap: theme.spacing(1),\n  },\n}));\n\nexport default useStyles;\n","import {\n  AppBar as MuiAppBar,\n  Button,\n  Divider,\n  IconButton,\n  InputAdornment,\n  InputBase,\n  Menu,\n  MenuItem,\n  Paper,\n  Toolbar,\n  Typography,\n} from '@material-ui/core';\nimport { Close, Search } from '@material-ui/icons';\nimport clsx from 'clsx';\nimport { useContext, useState } from 'react';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport CredentialsContext from '../../auth/contexts/credentials.context';\nimport { authService } from '../../auth/services/auth.service';\nimport useIsMobile from '../hooks/use-is-mobile';\nimport routes from '../../router/constants/routes';\nimport useStyles from './app-bar.styles';\nimport Avatar from './avatar';\n\nexport default function AppBar() {\n  const classes = useStyles();\n\n  const location = useLocation();\n\n  const isMobile = useIsMobile();\n\n  const [menuAnchor, setMenuAnchor] = useState<null | HTMLElement>(null);\n\n  const credentials = useContext(CredentialsContext);\n\n  const closeMenu = () => setMenuAnchor(null);\n  const history = useHistory();\n\n  const [showSearchBar, setShowSearchBar] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  const qs = new URLSearchParams(location.search);\n  const from = qs.get('from');\n  const previousLocation = from ?? routes.home;\n\n  const menu = (\n    <Menu\n      open={menuAnchor !== null}\n      anchorEl={menuAnchor}\n      anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      getContentAnchorEl={undefined}\n      onClose={closeMenu}\n    >\n      <Typography className={classes.menuUsername}>\n        {credentials?.username.toLocaleUpperCase()}\n      </Typography>\n      <Divider />\n      <MenuItem\n        onClick={() => {\n          closeMenu();\n          history.push(routes.accountSettings);\n        }}\n      >\n        Manage account\n      </MenuItem>\n      <MenuItem\n        onClick={() => {\n          setMenuAnchor(null);\n          authService.logOut().then(() => history.push(routes.home));\n        }}\n      >\n        Sign out\n      </MenuItem>\n    </Menu>\n  );\n\n  const avatar = <Avatar username={credentials?.username} />;\n\n  const loginProfile = authService.isAuthenticated() ? (\n    <IconButton\n      aria-label=\"Account settings\"\n      className={classes.avatarButton}\n      color=\"inherit\"\n      onClick={(e) => setMenuAnchor(e.currentTarget)}\n    >\n      {avatar}\n    </IconButton>\n  ) : (\n    <Button\n      className={classes.button}\n      component={Link}\n      to={routes.login}\n      color=\"inherit\"\n    >\n      Log in\n    </Button>\n  );\n\n  const searchBar = (\n    <Paper className={classes.searchBar}>\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n          history.push({\n            pathname: routes.deckSearch,\n            search: `?from=${encodeURIComponent(\n              location.pathname\n            )}&term=${encodeURIComponent(searchTerm)}`,\n          });\n        }}\n      >\n        <InputBase\n          inputProps={{ 'aria-label': 'Search' }}\n          value={searchTerm}\n          autoFocus={isMobile}\n          fullWidth={isMobile}\n          placeholder=\"Search\"\n          className={classes.searchBarInput}\n          startAdornment={\n            <InputAdornment position=\"start\">\n              <Search />\n            </InputAdornment>\n          }\n          endAdornment={\n            isMobile ? (\n              <InputAdornment position=\"end\">\n                <IconButton\n                  aria-label=\"close search\"\n                  onClick={\n                    location.pathname === routes.deckSearch\n                      ? () => {\n                          setShowSearchBar(false);\n                          setSearchTerm('');\n                          history.push(previousLocation);\n                        }\n                      : () => {\n                          setShowSearchBar(false);\n                          setSearchTerm('');\n                        }\n                  }\n                >\n                  <Close />\n                </IconButton>\n              </InputAdornment>\n            ) : undefined\n          }\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n      </form>\n    </Paper>\n  );\n\n  const mobileToolbar = (\n    <Toolbar className={classes.toolbar}>\n      {location.pathname === routes.deckSearch || showSearchBar ? (\n        searchBar\n      ) : (\n        <>\n          <div className={classes.titleContainer}>\n            <Button\n              color=\"inherit\"\n              component={Link}\n              to={routes.home}\n              className={clsx(classes.button, classes.homeLink)}\n            >\n              <Typography variant=\"h6\" component=\"span\">\n                Basic Flashcards\n              </Typography>\n            </Button>\n          </div>\n          <IconButton\n            aria-label=\"toggle search\"\n            color=\"inherit\"\n            onClick={() => setShowSearchBar(true)}\n          >\n            <Search />\n          </IconButton>\n          {loginProfile}\n        </>\n      )}\n    </Toolbar>\n  );\n\n  const standardToolbar = (\n    <Toolbar className={classes.toolbar}>\n      <div className={classes.titleContainer}>\n        <Button\n          color=\"inherit\"\n          component={Link}\n          to={routes.home}\n          className={clsx(classes.button, classes.homeLink)}\n        >\n          <Typography variant=\"h6\" component=\"span\">\n            Basic Flashcards\n          </Typography>\n        </Button>\n      </div>\n      {searchBar}\n      {loginProfile}\n    </Toolbar>\n  );\n\n  return (\n    <MuiAppBar position=\"sticky\">\n      {menu}\n      {isMobile ? mobileToolbar : standardToolbar}\n    </MuiAppBar>\n  );\n}\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  page: {\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%',\n  },\n  content: {\n    flexGrow: 1,\n    overflow: 'auto',\n  },\n  skipLink: {\n    position: 'fixed',\n    top: theme.spacing(-10),\n    left: theme.spacing(2),\n    color: theme.palette.secondary.dark,\n    backgroundColor: theme.palette.background.paper,\n    textTransform: 'none',\n    zIndex: theme.zIndex.appBar + 1,\n    transition: theme.transitions.create(['top'], {\n      duration: theme.transitions.duration.leavingScreen,\n      easing: theme.transitions.easing.easeOut,\n    }),\n    '&:focus': {\n      top: theme.spacing(2),\n      left: theme.spacing(2),\n      textDecoration: 'underline',\n      transition: theme.transitions.create(['top'], {\n        duration: theme.transitions.duration.enteringScreen,\n        easing: theme.transitions.easing.easeIn,\n      }),\n    },\n  },\n}));\n\nexport default useStyles;\n","import { Button, Link } from '@material-ui/core';\nimport { ReactNode } from 'react';\nimport AppBar from './app-bar';\nimport useStyles from './page.styles';\n\nexport interface SkipLink {\n  fragment: string;\n  text: string;\n}\n\nexport interface PageProps {\n  skipLinks?: SkipLink[];\n  children?: ReactNode;\n}\n\nexport default function Page({ skipLinks, children }: PageProps) {\n  const classes = useStyles();\n\n  const scrollToAnchor = (fragment: string) => {\n    const element = document.querySelector(`#${fragment}`);\n    element?.scrollIntoView();\n    (element as HTMLElement)?.focus();\n  };\n\n  return (\n    <>\n      {skipLinks !== undefined && (\n        <>\n          {skipLinks.map(({ fragment, text }, i) => (\n            // This would ideally just be a link, but fragment URLs won't work\n            // because react-hash-router is being used\n            <Link\n              key={i}\n              className={classes.skipLink}\n              tabIndex={0}\n              onClick={(e: any) => {\n                e.target.blur();\n                scrollToAnchor(fragment);\n              }}\n              component={Button}\n              color=\"secondary\"\n              disableRipple\n            >\n              {text}\n            </Link>\n          ))}\n        </>\n      )}\n      <div className={classes.page}>\n        <AppBar />\n        <div className={classes.content}>{children}</div>\n      </div>\n    </>\n  );\n}\n","import {\n  TextField as MuiTextField,\n  TextFieldProps as MuiTextFieldProps,\n} from '@material-ui/core';\nimport useUniqueId from '../hooks/use-unique-id';\n\nexport interface TextFieldProps extends Omit<MuiTextFieldProps, 'label'> {\n  label?: string;\n}\n\nexport default function TextField(props: TextFieldProps) {\n  const id = useUniqueId();\n  return <MuiTextField id={id} {...props} />;\n}\n","import { AxiosInstance } from 'axios';\nimport { authService } from '../../auth/services/auth.service';\nimport apiClient from '../../common/constants/api-client';\nimport Deck from '../interfaces/deck';\nimport { FindAllDecksParams } from '../interfaces/find-all-decks-params';\nimport { FindAllDecksResponse } from '../interfaces/find-all-decks-response';\nimport FindOneDeckResponse from '../interfaces/find-one-deck-response';\n\nexport class DecksService {\n  constructor(private http: AxiosInstance) {}\n\n  async create({ title, description, visibility, cards }: Deck) {\n    const { data } = await this.http.post('/decks', {\n      authorId: authService.getCurrentUser(),\n      title,\n      description,\n      visibility,\n      cards: cards.map(\n        ({ sides: [{ text: frontText }, { text: backText }] }) => ({\n          frontText,\n          backText,\n        })\n      ),\n    });\n    return data;\n  }\n\n  async findOne(id: string): Promise<Deck | null> {\n    const { data } = await this.http.get<FindOneDeckResponse>(`/decks/${id}`);\n    return findOneDeckResponseToDeck(data);\n  }\n\n  async findAll(\n    params: FindAllDecksParams\n  ): Promise<{ decks: Deck[]; count: number }> {\n    const { data } = await this.http.get<FindAllDecksResponse>(`/decks`, {\n      params,\n    });\n\n    return {\n      decks: data.decks.map(findOneDeckResponseToDeck),\n      count: data.count,\n    };\n  }\n\n  async update({ id, title, description, visibility, cards }: Deck) {\n    const { data } = await this.http.put(`/decks/${id}`, {\n      authorId: authService.getCurrentUser(),\n      title,\n      description,\n      visibility,\n      cards: cards.map(\n        ({ id: cardId, sides: [{ text: frontText }, { text: backText }] }) => ({\n          id: cardId,\n          frontText,\n          backText,\n        })\n      ),\n    });\n    return data;\n  }\n\n  async remove(id: string) {\n    return this.http.delete(`/decks/${id}`);\n  }\n}\n\nexport const decksService = new DecksService(apiClient);\n\nfunction findOneDeckResponseToDeck(data: FindOneDeckResponse): Deck {\n  const { id, authorId, title, description, visibility } = data;\n  return {\n    id,\n    authorId,\n    title,\n    description,\n    visibility,\n    cards: data.cards.map((card) => ({\n      id: card.id,\n      sides: [{ text: card.frontText }, { text: card.backText }],\n    })),\n    tags: [],\n  };\n}\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n  },\n});\n\nexport default useStyles;\n","import { CircularProgress } from '@material-ui/core';\nimport clsx from 'clsx';\nimport { ReactNode, useEffect, useState } from 'react';\nimport useStyles from './loadable-component.styles';\n\ninterface LoadableComponentProps {\n  loading?: boolean;\n  children: ReactNode;\n  className?: string;\n  delay?: number;\n}\n\nexport default function LoadableComponent({\n  loading,\n  children,\n  className,\n  delay = 300,\n}: LoadableComponentProps) {\n  const classes = useStyles();\n\n  const [showProgress, setShowProgress] = useState(delay <= 0);\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setShowProgress(true);\n    }, delay);\n    return () => clearTimeout(timeout);\n  }, [delay]);\n\n  return loading ? (\n    <div className={clsx(classes.root, className)}>\n      {showProgress && <CircularProgress />}\n    </div>\n  ) : (\n    <>{children}</>\n  );\n}\n","export const autoHideDuration = 6000;\n","import { Link as MuiLink, LinkProps as MuiLinkProps } from '@material-ui/core';\nimport { ReactNode } from 'react';\nimport {\n  Link as RouterLink,\n  LinkProps as RouterLinkProps,\n} from 'react-router-dom';\n\ninterface LinkProps {\n  to: RouterLinkProps['to'];\n  color?: MuiLinkProps['color'];\n  children?: ReactNode;\n}\n\nexport default function Link({ to, color, children }: LinkProps) {\n  return (\n    <MuiLink component={RouterLink} to={to} color={color}>\n      {children}\n    </MuiLink>\n  );\n}\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n  title: {\n    textOverflow: 'ellipsis',\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n  },\n  buttonBox: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n  deleteButton: {\n    color: theme.palette.error.main,\n  },\n}));\n\nexport default useStyles;\n","import { Button, Paper, Typography } from '@material-ui/core';\nimport Link from '../../common/components/link';\nimport { deckView } from '../../router/utils/route.utils';\nimport useStyles from './deck-info-tile.styles';\n\ninterface DeckInfoTileProps {\n  title: string;\n  deckId: string;\n  numberOfCards: number;\n  author?: string;\n  onDelete?: () => void;\n  onExport?: () => void;\n  onEdit?: () => void;\n}\n\nexport default function DeckInfoTile({\n  title,\n  deckId,\n  numberOfCards,\n  author,\n  onDelete,\n  onExport,\n  onEdit,\n}: DeckInfoTileProps) {\n  const classes = useStyles();\n  return (\n    <Paper className={classes.root}>\n      <Link to={deckView(deckId)}>\n        <Typography className={classes.title} variant=\"h5\" component=\"div\">\n          {title}\n        </Typography>\n      </Link>\n      <Typography>{`${numberOfCards} cards`}</Typography>\n      {author && (\n        <Typography\n          onClick={(e: React.MouseEvent<HTMLSpanElement, MouseEvent>) =>\n            e.stopPropagation()\n          }\n          component=\"span\"\n        >\n          By <Link to={`/users/${author}`}>{author}</Link>\n        </Typography>\n      )}\n      {(onDelete || onExport || onEdit) && (\n        <div className={classes.buttonBox}>\n          {onDelete && (\n            <Button\n              className={classes.deleteButton}\n              onClick={(e) => {\n                e.stopPropagation();\n                onDelete();\n              }}\n            >\n              Delete\n            </Button>\n          )}\n          {onExport && (\n            <Button\n              onClick={(e) => {\n                e.stopPropagation();\n                onExport();\n              }}\n            >\n              Export\n            </Button>\n          )}\n          {onEdit && (\n            <Button\n              color=\"primary\"\n              onClick={(e: any) => {\n                e.stopPropagation();\n                onEdit();\n              }}\n            >\n              Edit\n            </Button>\n          )}\n        </div>\n      )}\n    </Paper>\n  );\n}\n","export function deckEdit(id: string) {\n  return `/decks/${id}/edit`;\n}\n\nexport function deckView(id: string) {\n  return `/decks/${id}`;\n}\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: theme.spacing(2),\n    padding: theme.spacing(3),\n  },\n  paginationContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: theme.spacing(2),\n  },\n  paginationControls: {\n    display: 'flex',\n    justifyContent: 'center',\n  },\n  deckList: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: theme.spacing(1),\n  },\n  sortAndSearchContainer: {\n    display: 'flex',\n    gap: theme.spacing(2),\n  },\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n  buttonBox: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: theme.spacing(1),\n    marginLeft: 'auto',\n  },\n  uploadInput: {\n    display: 'none',\n  },\n  snackbar: {\n    [theme.breakpoints.down('xs')]: {\n      bottom: 90,\n    },\n  },\n}));\n\nexport default useStyles;\n","import {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  DialogActions,\n  Button,\n  DialogProps,\n} from '@material-ui/core';\n\ninterface DeleteDeckDialogProps {\n  deckTitle: string;\n  open: DialogProps['open'];\n  onBackDropClick?: DialogProps['onBackdropClick'];\n  onCancel: () => void;\n  onDelete: () => void;\n  onExited: DialogProps['onExited'];\n}\n\nexport default function DeleteDeckDialog({\n  deckTitle,\n  open,\n  onBackDropClick,\n  onCancel,\n  onDelete,\n  onExited,\n}: DeleteDeckDialogProps) {\n  return (\n    <Dialog open={open} onBackdropClick={onBackDropClick} onExited={onExited}>\n      <DialogTitle>Delete deck?</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Are you sure you want to delete deck \"{deckTitle}\"? This action cannot\n          be undone.\n        </DialogContentText>\n        <DialogActions>\n          <Button color=\"primary\" autoFocus onClick={onCancel}>\n            Cancel\n          </Button>\n          <Button color=\"primary\" onClick={onDelete}>\n            Delete\n          </Button>\n        </DialogActions>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import {\n  Button,\n  Fab,\n  MenuItem,\n  Snackbar,\n  Typography,\n  useTheme,\n} from '@material-ui/core';\nimport { Add as AddIcon } from '@material-ui/icons';\nimport { Pagination } from '@material-ui/lab';\nimport { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport routes from '../../router/constants/routes';\nimport useDebouncedValue from '../../common/hooks/use-debounced-value';\nimport useIsMobile from '../../common/hooks/use-is-mobile';\nimport Deck from '../../deck/interfaces/deck';\nimport { FindAllDecksParams } from '../../deck/interfaces/find-all-decks-params';\nimport { decksService } from '../../deck/services/decks.service';\nimport DeckInfoTile from '../components/deck-info-tile';\nimport useStyles from './dashboard.page.styles';\nimport CredentialsContext from '../../auth/contexts/credentials.context';\nimport DeleteDeckDialog from '../components/delete-deck-dialog';\nimport { downloadBlob } from '../../common/utils/download.utils';\nimport { autoHideDuration } from '../../common/constants/snackbar';\nimport LoadableComponent from '../../common/components/loadable-component';\nimport TextField from '../../common/components/text-field';\nimport Page from '../../common/components/page';\n\ninterface DashboardPageProps {\n  pageSize?: number;\n}\n\nexport default function DashboardPage({ pageSize = 10 }: DashboardPageProps) {\n  const theme = useTheme();\n  const isMobile = useIsMobile();\n\n  const { id: userId } = useContext(CredentialsContext) ?? {};\n\n  if (!userId) {\n    throw new Error('Unexpected nullish value: userId');\n  }\n\n  const [initialLoad, setInitialLoad] = useState(true);\n\n  const [loadedDecks, setLoadedDecks] = useState<Deck[]>([]);\n  const [totalDecks, setTotalDecks] = useState(0);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const classes = useStyles();\n  const [search, setSearch] = useState('');\n  const searchValue = useDebouncedValue(\n    search,\n    theme.transitions.duration.short\n  );\n\n  const exportDeck = (deck: Deck) => {\n    const deckJSON = JSON.stringify(deck, undefined, 2);\n    downloadBlob(new Blob([deckJSON], { type: 'application/json' }));\n  };\n\n  const findDecks = (params: FindAllDecksParams) => {\n    setLoading(true);\n    decksService\n      .findAll({\n        ...params,\n      })\n      .then((res) => {\n        setLoadedDecks(res.decks);\n        setTotalDecks(res.count);\n      })\n      .finally(() => {\n        setLoading(false);\n        setInitialLoad(false);\n      });\n  };\n\n  useEffect(() => {\n    findDecks({\n      authorId: [userId],\n      orderTitleBy: 'asc',\n      take: pageSize,\n      skip: (page - 1) * pageSize,\n      caseInsensitive: true,\n      titleContains: searchValue ? searchValue : undefined,\n    });\n  }, [page, pageSize, searchValue, userId]);\n\n  const [showDialog, setShowDialog] = useState(false);\n  const [deckToDelete, setDeckToDelete] = useState<Deck | null>(null);\n\n  const [showSnackbar, setShowSnackbar] = useState(false);\n  const [snackbarMessage, setSnackbarMessage] = useState('');\n\n  return (\n    <Page skipLinks={[{ fragment: 'content', text: 'Skip to content' }]}>\n      <DeleteDeckDialog\n        deckTitle={deckToDelete?.title ?? ''}\n        open={showDialog}\n        onBackDropClick={() => setShowDialog(false)}\n        onExited={() => setDeckToDelete(null)}\n        onCancel={() => setShowDialog(false)}\n        onDelete={() => {\n          decksService\n            .remove(deckToDelete?.id ?? '')\n            .then(() =>\n              findDecks({\n                authorId: [userId],\n                orderTitleBy: 'asc',\n                take: pageSize,\n                skip: (page - 1) * pageSize,\n                caseInsensitive: true,\n                titleContains: searchValue ? searchValue : undefined,\n              })\n            )\n            .finally(() => setShowDialog(false));\n        }}\n      />\n      <main id=\"content\" className={classes.content}>\n        <Typography variant=\"h1\">Your decks</Typography>\n\n        <div className={classes.sortAndSearchContainer}>\n          <div>\n            <TextField label=\"Sort by\" variant=\"outlined\" select value=\"title\">\n              <MenuItem value=\"title\">Title</MenuItem>\n            </TextField>\n          </div>\n          <TextField\n            label=\"Search\"\n            variant=\"outlined\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n          />\n\n          <div className={classes.buttonBox}>\n            <label>\n              <Button color=\"primary\" component=\"span\">\n                Import\n              </Button>\n              <input\n                type=\"file\"\n                accept=\"application/json\"\n                hidden\n                onChange={(changeEvent) => {\n                  setLoading(true);\n                  const reader = new FileReader();\n                  const file = changeEvent.target.files?.[0];\n                  if (!file) {\n                    return;\n                  }\n                  reader.onload = (e) => {\n                    const { result } = e.target ?? {};\n                    if (!result) {\n                      return;\n                    }\n                    const deck: Deck = JSON.parse(result as string);\n                    decksService\n                      .create(deck)\n                      .then(() =>\n                        findDecks({\n                          authorId: [userId],\n                          orderTitleBy: 'asc',\n                          take: pageSize,\n                          skip: (page - 1) * pageSize,\n                          caseInsensitive: true,\n                          titleContains: searchValue ? searchValue : undefined,\n                        })\n                      )\n                      .then(() => {\n                        setSnackbarMessage('Deck successfully imported');\n                        setShowSnackbar(true);\n                      })\n                      .catch(() => {\n                        setSnackbarMessage('Failed to import deck.');\n                        setShowSnackbar(true);\n                      })\n                      .finally(() => {\n                        changeEvent.target.value = '';\n                        setLoading(false);\n                      });\n                  };\n                  reader.readAsText(file);\n                }}\n              />\n            </label>\n            {!isMobile && (\n              <Button\n                color=\"primary\"\n                variant=\"contained\"\n                component={Link}\n                to={routes.deckAdd}\n              >\n                Create\n              </Button>\n            )}\n          </div>\n        </div>\n        <LoadableComponent loading={initialLoad}>\n          <div className={classes.paginationContainer}>\n            <div className={classes.deckList}>\n              {loadedDecks.map((deck) => (\n                <DeckInfoTile\n                  key={deck.id}\n                  deckId={deck.id ?? ''}\n                  title={deck.title}\n                  numberOfCards={deck.cards.length}\n                  onDelete={() => {\n                    setDeckToDelete(deck);\n                    setShowDialog(true);\n                  }}\n                  onExport={() => exportDeck(deck)}\n                  onEdit={() => history.push(`${routes.decks}/${deck.id}/edit`)}\n                />\n              ))}\n            </div>\n            {/* Only show pagination controls if there is more than one page */}\n            {totalDecks / pageSize > 1 && (\n              <div className={classes.paginationControls}>\n                <Pagination\n                  count={Math.ceil(totalDecks / pageSize)}\n                  page={page}\n                  onChange={(_e, value) => setPage(value)}\n                  disabled={loading}\n                />\n              </div>\n            )}\n          </div>\n        </LoadableComponent>\n\n        {isMobile && (\n          <Fab\n            aria-label=\"create deck\"\n            className={classes.fab}\n            color=\"secondary\"\n            component={Link}\n            to={routes.deckAdd}\n          >\n            <AddIcon />\n          </Fab>\n        )}\n        <Snackbar\n          className={classes.snackbar}\n          open={showSnackbar}\n          message={snackbarMessage}\n          autoHideDuration={autoHideDuration}\n          onClose={() => setShowSnackbar(false)}\n        />\n      </main>\n    </Page>\n  );\n}\n","import { useEffect, useRef, useState } from 'react';\n\nexport default function useDebouncedValue<T>(value: T, timeout: number): T {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n  const lastFired = useRef(Date.now());\n\n  useEffect(() => {\n    const handle = setTimeout(() => {\n      setDebouncedValue(value);\n      lastFired.current = Date.now();\n    }, timeout - (Date.now() - lastFired.current));\n    return () => clearTimeout(handle);\n  }, [value, timeout]);\n\n  return debouncedValue;\n}\n","export function downloadBlob(blob: Blob) {\n  const blobLink = window.URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = blobLink;\n  a.download = '';\n  a.click();\n  window.URL.revokeObjectURL(blobLink);\n}\n"],"sourceRoot":""}
(this["webpackJsonpbasic-flashcards-react"]=this["webpackJsonpbasic-flashcards-react"]||[]).push([[0],{129:function(e,t,n){},233:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(15),i=n.n(r),s=(n(129),n(35)),o=n(9),l=n(296),d=Object(a.createContext)((function(){})),u=Object(a.createContext)({loggedIn:!1}),j=n(28),b=n(12),h=n(278),O=n(299),f=n(267),x=n(270),p=n(271),v=n(79),g=n(272),m=n(2);function k(e){var t=e.title,n=e.onBack,a=Object(b.g)();return Object(m.jsx)(f.a,{position:"sticky",children:Object(m.jsxs)(x.a,{children:[Object(m.jsx)(p.a,{edge:"start",color:"inherit",onClick:null!==n&&void 0!==n?n:function(){return a.goBack()},children:Object(m.jsx)(g.a,{})}),Object(m.jsx)(v.a,{variant:"h6",children:t})]})})}var y={home:"/",dashboard:"/dashboard",decks:"/decks",deckSearch:"/search-decks",deckAdd:"/add-deck",login:"/login",registration:"/register"};function C(e){var t=Object(a.useState)(e),n=Object(o.a)(t,2),c=n[0],r=n[1];return[c,function(e){return r(e.target.value)}]}var S=n(115),w=n(300);function N(e){var t=e.forceValidate,n=e.onValidate,c=e.onChange,r=e.onBlur,i=Object(S.a)(e,["forceValidate","onValidate","onChange","onBlur"]),l=Object(a.useState)(!1),d=Object(o.a)(l,2),u=d[0],j=d[1],b=n(i.value);return Object(m.jsx)(w.a,Object(s.a)({error:(t||u)&&void 0!==b,helperText:(t||u)&&b,onChange:function(e){j(!0),null===c||void 0===c||c(e)},onBlur:function(e){j(!0),null===r||void 0===r||r(e)}},i))}var T=n(72),I=n.n(T),B="This field is required.",D=n(276),F=Object(D.a)((function(e){return{form:{display:"flex",flexDirection:"column",gap:e.spacing(2)},submitButton:{marginLeft:"auto"}}})),A=n(277);function P(e){var t=e.variant,n=void 0===t?"outlined":t,c=e.username,r=e.password,i=e.onChangeUsername,s=e.onChangePassword,l=e.onSubmit,d=F(),u=Object(a.useState)(!1),j=Object(o.a)(u,2),b=j[0],h=j[1],O=function(e){return I.a.isEmpty(e)?B:void 0};return Object(m.jsxs)("form",{className:d.form,onSubmit:function(e){e.preventDefault(),h(!0),[c,r].some(O)||l()},children:[Object(m.jsx)(N,{label:"Username",value:c,onChange:i,onValidate:O,forceValidate:b,variant:n,required:!0}),Object(m.jsx)(N,{label:"Password",value:r,onChange:s,onValidate:O,forceValidate:b,variant:n,type:"password",required:!0}),Object(m.jsx)(A.a,{className:d.submitButton,type:"submit",variant:"contained",color:"primary",children:"Log in"})]})}var V=n(21),L=n.n(V),E=n(36),U=n(45),q=n(46),R=n(114),W=n.n(R).a.create({baseURL:"https://basic-flashcards.herokuapp.com",withCredentials:!0});W.interceptors.request.use((function(e){var t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}));var M=W,z=new(function(){function e(t){Object(U.a)(this,e),this.http=t}return Object(q.a)(e,[{key:"logIn",value:function(){var e=Object(E.a)(L.a.mark((function e(t,n){var a,c,r,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.post("/auth/access-tokens",{username:t,password:n});case 2:return a=e.sent,c=a.data,r=c.accessToken,i=c.decodedAccessToken,localStorage.setItem("accessToken",r),localStorage.setItem("accessTokenPayload",JSON.stringify(i)),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){var e=Object(E.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("accessToken"),localStorage.removeItem("accessTokenPayload");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"verifyAccessToken",value:function(){var e=Object(E.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.http.get("/auth/access-tokens/".concat(t));case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentUser",value:function(){var e=localStorage.getItem("accessTokenPayload");return e?JSON.parse(e).sub:null}}]),e}())(M),J=Object(D.a)((function(e){return{content:{display:"flex",flexDirection:"column",gap:e.spacing(2),padding:e.spacing(3)}}}));function X(){var e=J(),t=C(""),n=Object(o.a)(t,2),c=n[0],r=n[1],i=C(""),s=Object(o.a)(i,2),l=s[0],d=s[1],u=Object(a.useState)(""),j=Object(o.a)(u,2),f=j[0],x=j[1],p=Object(b.g)();return Object(m.jsxs)("div",{children:[Object(m.jsx)(k,{title:"Basic Flashcards"}),Object(m.jsxs)(h.a,{className:e.content,children:[f&&Object(m.jsx)(O.a,{severity:"error",children:f}),Object(m.jsx)(P,{variant:"outlined",username:c,password:l,onChangeUsername:r,onChangePassword:d,onSubmit:function(){z.logIn(c,l).then((function(){return p.push(y.dashboard)})).catch((function(e){var t,n;e.response?x(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message):x("An error has occurred.")}))}})]})]})}var G=new(function(){function e(t){Object(U.a)(this,e),this.http=t}return Object(q.a)(e,[{key:"create",value:function(e){return this.http.post("/users",e)}}]),e}())(M);function Y(e){var t=e.username,n=e.password,c=e.confirmPassword,r=e.onChangeUsername,i=e.onChangePassword,s=e.onChangeConfirmPassword,l=e.textFieldVariant,d=void 0===l?"outlined":l,u=e.onSubmit,j=F(),b=Object(a.useState)(!1),h=Object(o.a)(b,2),O=h[0],f=h[1],x=function(e){return I.a.isEmpty(e)?B:void 0},p=function(e){return e!==n?"Passwords do not match.":void 0};return Object(m.jsxs)("form",{className:j.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),f(!0),[t,n].some(x)||p(c)||u()},children:[Object(m.jsx)(N,{variant:d,label:"Username",forceValidate:O,onValidate:x,required:!0,value:t,onChange:r}),Object(m.jsx)(N,{variant:d,label:"Password",type:"password",required:!0,value:n,onChange:i,forceValidate:O,onValidate:x}),Object(m.jsx)(N,{variant:d,label:"Confirm password",type:"password",required:!0,value:c,onChange:s,forceValidate:O,onValidate:p}),Object(m.jsx)(A.a,{className:j.submitButton,type:"submit",variant:"contained",color:"primary",children:"Register"})]})}var $=Object(D.a)((function(e){return{content:{display:"flex",flexDirection:"column",gap:e.spacing(2),padding:e.spacing(3)}}}));function H(){var e=$(),t=C(""),n=Object(o.a)(t,2),c=n[0],r=n[1],i=C(""),s=Object(o.a)(i,2),l=s[0],d=s[1],u=C(""),j=Object(o.a)(u,2),f=j[0],x=j[1],p=Object(a.useState)(""),v=Object(o.a)(p,2),g=v[0],S=v[1],w=Object(b.g)();return Object(m.jsxs)("div",{children:[Object(m.jsx)(k,{title:"Basic Flashcards"}),Object(m.jsxs)(h.a,{className:e.content,children:[g&&Object(m.jsx)(O.a,{severity:"error",children:g}),Object(m.jsx)(Y,{username:c,password:l,confirmPassword:f,onChangeUsername:r,onChangePassword:d,onChangeConfirmPassword:x,onSubmit:function(){G.create({username:c,password:l}).then((function(){return w.push(y.login)})).catch((function(e){var t,n;e.response?S(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message):S("An error has occurred.")}))}})]})]})}var K=n(31),Q=n(281),Z=n(282),_=n(283),ee=n(284),te=n(285),ne=n(302),ae=n(297),ce=n(303),re=n(286),ie=n(287),se=n(298);var oe=n(279);var le=0;function de(){return Object(a.useRef)("unique-id-".concat(le++)).current}var ue=new(function(){function e(t){Object(U.a)(this,e),this.http=t}return Object(q.a)(e,[{key:"create",value:function(){var e=Object(E.a)(L.a.mark((function e(t){var n,a,c,r,i,s;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,a=t.description,c=t.visibility,r=t.cards,e.next=3,this.http.post("/decks",{authorId:z.getCurrentUser(),title:n,description:a,visibility:c,cards:r.map((function(e){var t=Object(o.a)(e.sides,2);return{frontText:t[0].text,backText:t[1].text}}))});case 3:return i=e.sent,s=i.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findOne",value:function(){var e=Object(E.a)(L.a.mark((function e(t){var n,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.get("/decks/".concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",je(a));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findAll",value:function(){var e=Object(E.a)(L.a.mark((function e(t){var n,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.get("/decks",{params:t});case 2:return n=e.sent,a=n.data,e.abrupt("return",{decks:a.decks.map(je),count:a.count});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(E.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.http.delete("/decks/".concat(t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())(M);function je(e){return{id:e.id,authorId:e.authorId,title:e.title,description:e.description,visibility:e.visibility,cards:e.cards.map((function(e){return{sides:[{text:e.frontText},{text:e.backText}]}})),tags:[]}}var be=Object(D.a)({homeLink:{textTransform:"none"}});function he(){var e=be();return Object(m.jsx)(f.a,{position:"sticky",children:Object(m.jsx)(x.a,{children:Object(m.jsx)(A.a,{color:"inherit",component:j.b,to:y.home,className:e.homeLink,children:Object(m.jsx)(v.a,{variant:"h6",children:"Basic Flashcards"})})})})}var Oe=n(78),fe=n(280);function xe(e){var t=e.to,n=e.color,a=e.children;return Object(m.jsx)(fe.a,{component:j.b,to:t,color:n,children:a})}var pe=Object(D.a)((function(e){return{root:{cursor:"pointer",padding:e.spacing(2),"&:hover":{backgroundColor:e.palette.grey[50]}},title:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},buttonBox:{display:"flex",justifyContent:"flex-end"}}}));function ve(e){var t=e.title,n=(e.deckId,e.numberOfCards),a=e.author,c=e.onClick,r=e.onDelete,i=e.onExport,s=e.onEdit,o=pe();return Object(m.jsxs)(Oe.a,{className:o.root,onClick:c,children:[Object(m.jsx)(v.a,{className:o.title,variant:"h5",children:t}),Object(m.jsx)(v.a,{children:"".concat(n," cards")}),a&&Object(m.jsxs)(v.a,{children:["By ",Object(m.jsx)(xe,{to:"/users/".concat(a),children:a})]}),(r||i||s)&&Object(m.jsxs)("div",{className:o.buttonBox,children:[r&&Object(m.jsx)(A.a,{color:"secondary",onClick:function(e){e.stopPropagation(),r()},children:"Delete"}),i&&Object(m.jsx)(A.a,{onClick:function(e){e.stopPropagation(),i()},children:"Export"}),s&&Object(m.jsx)(A.a,{color:"primary",onClick:function(e){e.stopPropagation(),s()},children:"Edit"})]})]})}var ge=Object(D.a)((function(e){return{content:{display:"flex",flexDirection:"column",gap:e.spacing(2),padding:e.spacing(3)},paginationContainer:{display:"flex",flexDirection:"column",gap:e.spacing(2)},paginationControls:{display:"flex",justifyContent:"center"},deckList:{display:"flex",flexDirection:"column",gap:e.spacing(1)},sortAndSearchContainer:{display:"flex",gap:e.spacing(2)},addButton:{marginLeft:"auto"},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}}));function me(e){var t=e.userId,n=e.pageSize,c=void 0===n?10:n,r=Object(K.a)(),i=function(){var e=Object(K.a)();return Object(oe.a)(e.breakpoints.down("xs"))}(),l=Object(a.useState)([]),d=Object(o.a)(l,2),u=d[0],h=d[1],O=Object(a.useState)(0),f=Object(o.a)(O,2),x=f[0],p=f[1],g=Object(a.useState)(1),k=Object(o.a)(g,2),C=k[0],S=k[1],N=Object(a.useState)(!1),T=Object(o.a)(N,2),I=T[0],B=T[1],D=Object(b.g)(),F=ge(),P=de(),V=Object(a.useState)(""),L=Object(o.a)(V,2),E=L[0],U=L[1],q=function(e,t){var n=Object(a.useState)(e),c=Object(o.a)(n,2),r=c[0],i=c[1],s=Object(a.useRef)(Date.now());return Object(a.useEffect)((function(){var n=setTimeout((function(){i(e),s.current=Date.now()}),t-(Date.now()-s.current));return function(){return clearTimeout(n)}}),[e,t]),r}(E,r.transitions.duration.short),R=function(e){B(!0),ue.findAll(Object(s.a)({},e)).then((function(e){h(e.decks),p(e.count)})).finally((function(){return B(!1)}))};Object(a.useEffect)((function(){R({authorId:[t],orderTitleBy:"asc",take:c,skip:(C-1)*c,caseInsensitive:!0,titleContains:q||void 0})}),[C,c,q,t]);var W=Object(a.useState)(!1),M=Object(o.a)(W,2),z=M[0],J=M[1],X=Object(a.useState)(null),G=Object(o.a)(X,2),Y=G[0],$=G[1];return Object(m.jsxs)("div",{children:[Object(m.jsxs)(Q.a,{open:z,onBackdropClick:function(){return J(!1)},onExited:function(){return $(null)},children:[Object(m.jsx)(Z.a,{children:"Delete deck?"}),Object(m.jsxs)(_.a,{children:[Object(m.jsxs)(ee.a,{children:['Are you sure you want to delete deck "',null===Y||void 0===Y?void 0:Y.title,'"? This action cannot be undone.']}),Object(m.jsxs)(te.a,{children:[Object(m.jsx)(A.a,{color:"primary",autoFocus:!0,onClick:function(){J(!1)},children:"Cancel"}),Object(m.jsx)(A.a,{color:"primary",onClick:function(){var e;ue.remove(null!==(e=null===Y||void 0===Y?void 0:Y.id)&&void 0!==e?e:"").then((function(){return R({authorId:[t],orderTitleBy:"asc",take:c,skip:(C-1)*c,caseInsensitive:!0,titleContains:q||void 0})})).finally((function(){return J(!1)}))},children:"Delete"})]})]})]}),Object(m.jsx)(he,{}),Object(m.jsxs)("div",{className:F.content,children:[Object(m.jsx)(v.a,{variant:"h2",children:"Your decks"}),Object(m.jsxs)("div",{className:F.sortAndSearchContainer,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(ne.a,{id:P,children:"Sort by"}),Object(m.jsx)(ae.a,{labelId:P,value:"title",children:Object(m.jsx)(ce.a,{value:"title",children:"Title"})})]}),Object(m.jsx)(w.a,{label:"Search",value:E,onChange:function(e){return U(e.target.value)}}),!i&&Object(m.jsx)(A.a,{color:"primary",variant:"contained",component:j.b,to:y.deckAdd,className:F.addButton,children:"Add Deck"})]}),Object(m.jsxs)("div",{className:F.paginationContainer,children:[Object(m.jsx)("div",{className:F.deckList,children:u.map((function(e){var t;return Object(m.jsx)(ve,{deckId:null!==(t=e.id)&&void 0!==t?t:"",title:e.title,numberOfCards:e.cards.length,onClick:function(){return D.push("".concat(y.decks,"/").concat(e.id))},onDelete:function(){$(e),J(!0)},onEdit:function(){return D.push("".concat(y.decks,"/").concat(e.id,"/edit"))}},e.id)}))}),x/c>1&&Object(m.jsx)("div",{className:F.paginationControls,children:Object(m.jsx)(se.a,{count:Math.ceil(x/c),page:C,onChange:function(e,t){return S(t)},disabled:I})})]}),i&&Object(m.jsx)(re.a,{className:F.fab,color:"primary",component:j.b,to:y.deckAdd,children:Object(m.jsx)(ie.a,{})})]})]})}var ke=n(288),ye=n(3),Ce=Object(D.a)({root:{display:"flex",justifyContent:"center"}});function Se(e){var t=e.loading,n=e.children,a=e.className,c=Ce();return t?Object(m.jsx)("div",{className:Object(ye.a)(c.root,a),children:Object(m.jsx)(ke.a,{})}):Object(m.jsx)(m.Fragment,{children:n})}var we=Object(D.a)((function(e){return{loginSection:{backgroundColor:e.palette.primary.dark,color:e.palette.primary.contrastText,padding:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center",gap:e.spacing(2)},buttonBox:{display:"flex",flexDirection:"column",gap:e.spacing(1)},exampleDecksContainer:{display:"flex",flexDirection:"column",gap:e.spacing(1)},exampleDecksSection:{marginLeft:e.spacing(2),marginRight:e.spacing(2),paddingBottom:e.spacing(3)}}}));function Ne(){var e=we(),t=Object(a.useState)(!0),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)([]),s=Object(o.a)(i,2),l=s[0],d=s[1],u=Object(b.g)();return Object(a.useEffect)((function(){ue.findAll({orderTitleBy:"asc",take:3}).then((function(e){var t=e.decks;return d(t)})).finally((function(){return r(!1)}))}),[]),Object(m.jsxs)("div",{children:[Object(m.jsx)(he,{}),Object(m.jsxs)("main",{children:[Object(m.jsxs)("div",{className:e.loginSection,children:[Object(m.jsx)(v.a,{variant:"h1",children:"Log in or create a new account."}),Object(m.jsxs)("div",{className:e.buttonBox,children:[Object(m.jsx)(A.a,{color:"secondary",variant:"contained",component:j.b,to:y.login,children:"Log in"}),Object(m.jsx)(A.a,{color:"secondary",variant:"contained",component:j.b,to:y.registration,children:"Register"})]})]}),Object(m.jsxs)("div",{className:e.exampleDecksSection,children:[Object(m.jsx)(v.a,{variant:"h2",children:"Decks"}),Object(m.jsx)(Se,{loading:c,children:Object(m.jsx)("div",{className:e.exampleDecksContainer,children:l.map((function(e){var t,n;return Object(m.jsx)(ve,{deckId:null!==(t=e.id)&&void 0!==t?t:"",title:e.title,numberOfCards:e.cards.length,author:null!==(n=e.authorId)&&void 0!==n?n:"",onClick:function(){return u.push("".concat(y.decks,"/").concat(e.id))}},e.id)}))})})]})]})]})}var Te=n(235),Ie=n(40),Be=n(275),De=n(289),Fe=n(290),Ae=n(291),Pe=n(292),Ve=Object(D.a)((function(e){return{textFieldContainer:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:e.spacing(2)},cardContent:{display:"flex",flexDirection:"column",gap:e.spacing(1),margin:e.spacing(2)},actionArea:{display:"flex",justifyContent:"flex-end"}}}));function Le(e){var t=e.cardNumber,n=e.frontText,c=e.backText,r=e.forceValidate,i=e.onFrontTextChange,s=e.onBackTextChange,l=e.onDelete,d=e.onMoveUp,u=e.onMoveDown,j=Ve(),b=Object(a.useState)(!1),h=Object(o.a)(b,2),O=h[0],f=h[1],x=n.length>0,g=(r||O)&&!x,k=Object(a.useState)(!1),y=Object(o.a)(k,2),C=y[0],S=y[1],N=c.length>0,T=(r||C)&&!N;return Object(m.jsx)(De.a,{children:Object(m.jsxs)("div",{className:j.cardContent,children:[Object(m.jsx)(v.a,{variant:"h5",children:"Card ".concat(t)}),Object(m.jsxs)("div",{className:j.textFieldContainer,children:[Object(m.jsx)(w.a,{label:"Term",required:!0,variant:"outlined",multiline:!0,value:n,error:g,helperText:g?B:void 0,onChange:function(e){f(!0),i(e.target.value)}}),Object(m.jsx)(w.a,{label:"Definition",required:!0,variant:"outlined",multiline:!0,value:c,error:T,helperText:T?B:void 0,onChange:function(e){S(!0),s(e.target.value)}})]}),Object(m.jsxs)("div",{className:j.actionArea,children:[Object(m.jsx)(p.a,{onClick:l,disabled:!l,children:Object(m.jsx)(Fe.a,{})}),Object(m.jsx)(p.a,{onClick:d,disabled:!d,children:Object(m.jsx)(Ae.a,{})}),Object(m.jsx)(p.a,{onClick:u,disabled:!u,children:Object(m.jsx)(Pe.a,{})})]})]})})}var Ee=Object(D.a)((function(e){return{form:{display:"flex",flexDirection:"column",gap:e.spacing(3),marginTop:e.spacing(3),marginBottom:e.spacing(3)},generalInfoContainer:{display:"flex",flexDirection:"column",gap:e.spacing(2)},cardList:{display:"flex",flexDirection:"column",gap:e.spacing(2)},saveButtonContainer:{display:"flex",justifyContent:"flex-end"}}}));function Ue(e){var t=e.title,n=e.description,c=e.visibility,r=e.cards,i=e.onTitleChange,l=e.onDescriptionChange,d=e.onChangeVisibility,u=e.onCardsChange,j=e.onSubmit,b=Ee(),h=de(),O=Object(a.useState)(!1),f=Object(o.a)(O,2),x=f[0],p=f[1],v=Object(a.useState)(!1),g=Object(o.a)(v,2),k=g[0],y=g[1],C=(k||x)&&0===t.length,S=function(e,t,n){var a=Object(Ie.a)(r),c=Object(s.a)({},r[e]);c.sides[t].text=n,a[e]=c,u(a)},N=function(e,t){var n=Object(Ie.a)(r);n.splice(t,0,n.splice(e,1)[0]),u(n)};return Object(m.jsxs)("form",{noValidate:!0,className:b.form,onSubmit:function(e){e.preventDefault(),0===t.length||r.some((function(e){return e.sides.some((function(e){return 0===e.text.length}))}))?y(!0):j()},children:[Object(m.jsxs)("div",{className:b.generalInfoContainer,children:[Object(m.jsx)(Be.a,{children:Object(m.jsx)(w.a,{required:!0,variant:"outlined",label:"Title",fullWidth:!0,error:C,helperText:C?B:void 0,value:t,onChange:function(e){p(!0),i(e.target.value)}})}),Object(m.jsx)(Be.a,{children:Object(m.jsx)(w.a,{variant:"outlined",label:"Description",fullWidth:!0,value:n,onChange:function(e){return l(e.target.value)}})}),Object(m.jsxs)(Be.a,{children:[Object(m.jsx)(ne.a,{id:h,children:"Visibility"}),Object(m.jsxs)(ae.a,{labelId:h,variant:"outlined",value:c,onChange:function(e){return d(e.target.value)},children:[Object(m.jsx)(ce.a,{value:"PRIVATE",children:"Private"}),Object(m.jsx)(ce.a,{value:"PUBLIC",children:"Public"})]})]})]}),Object(m.jsx)("div",{className:b.cardList,children:r.map((function(e,t){var n=Object(o.a)(e.sides,2),a=n[0].text,c=n[1].text;return Object(m.jsx)(Le,{forceValidate:k,cardNumber:t+1,frontText:a,backText:c,onFrontTextChange:function(e){return S(t,0,e)},onBackTextChange:function(e){return S(t,1,e)},onDelete:r.length>1?function(){return e=t,void u([].concat(Object(Ie.a)(r.slice(0,e)),Object(Ie.a)(r.slice(e+1))));var e}:void 0,onMoveUp:0!==t?function(){return N(t,t-1)}:void 0,onMoveDown:t!==r.length-1?function(){return N(t,t+1)}:void 0},t)}))}),Object(m.jsx)(A.a,{variant:"outlined",fullWidth:!0,startIcon:Object(m.jsx)(ie.a,{}),onClick:function(){u([].concat(Object(Ie.a)(r),[{sides:[{text:""},{text:""}]}]))},children:"Add card"}),Object(m.jsx)("div",{className:b.saveButtonContainer,children:Object(m.jsx)(A.a,{type:"submit",variant:"contained",color:"primary",children:"Save"})})]})}var qe=Object(D.a)((function(e){return{backdrop:{zIndex:e.zIndex.appBar+1}}}));function Re(){var e=qe(),t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(""),s=Object(o.a)(i,2),l=s[0],d=s[1],u=Object(a.useState)("PRIVATE"),j=Object(o.a)(u,2),O=j[0],f=j[1],x=Object(a.useState)([{sides:[{text:""},{text:""}]}]),p=Object(o.a)(x,2),v=p[0],g=p[1],y=Object(a.useState)(!1),C=Object(o.a)(y,2),S=C[0],w=C[1],N=Object(b.g)();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Te.a,{open:S,className:e.backdrop,children:Object(m.jsx)(ke.a,{color:"inherit"})}),Object(m.jsx)(k,{title:"Add deck"}),Object(m.jsx)(h.a,{children:Object(m.jsx)(Ue,{title:c,description:l,visibility:O,cards:v,onTitleChange:r,onDescriptionChange:d,onChangeVisibility:f,onCardsChange:g,onSubmit:function(){w(!0),ue.create({title:c,description:l,visibility:O,cards:v,tags:[]}).then((function(){return N.goBack()})).catch((function(){w(!1)}))}})})]})}var We=n(304),Me=n(305),ze=n(293),Je=Object(D.a)((function(e){return{root:{display:"grid",gridTemplateColumns:"2fr auto 3fr",columnGap:e.spacing(2),gap:e.spacing(3)}}}));function Xe(e){var t=e.cards,n=Je();return Object(m.jsx)("div",{className:n.root,children:t.map((function(e){var t;return Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)(v.a,{children:e.sides[0].text}),Object(m.jsx)(ze.a,{orientation:"vertical"}),Object(m.jsx)(v.a,{children:e.sides[1].text})]},null!==(t=e.id)&&void 0!==t?t:JSON.stringify(e))}))})}var Ge=n(294),Ye=Object(D.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center"},content:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",padding:e.spacing(3)},typography:{fontSize:e.typography.h5.fontSize}}}));function $e(e){var t=e.text,n=e.className,a=Ye();return Object(m.jsx)(De.a,{className:Object(ye.a)(a.root,n),children:Object(m.jsx)(Ge.a,{className:a.content,children:Object(m.jsx)(v.a,{className:a.typography,children:t})})})}var He=Object(D.a)({root:{display:"grid",gridTemplateAreas:'"main"',transformStyle:"preserve-3d"},cardFlipTransition:{transition:"transform 0.3s"},flip:{transform:"rotateX(180deg)"},cardSide:{gridArea:"main",backfaceVisibility:"hidden"},cardBack:{transform:"rotateX(180deg)"}});function Ke(e){var t=e.frontText,n=e.backText,a=e.showBack,c=e.className,r=e.onFlip,i=He();return Object(m.jsxs)("div",{className:Object(ye.a)(i.root,i.cardFlipTransition,a&&i.flip,c),onClick:r,children:[Object(m.jsx)($e,{className:i.cardSide,text:t}),Object(m.jsx)($e,{className:Object(ye.a)(i.cardSide,i.cardBack),text:n})]})}var Qe=Object(D.a)({card:{height:"100%",width:"100%"},hiddenCard:{display:"none"}});function Ze(e){var t=e.cards,n=e.activeIndex,c=e.showCardBack,r=e.className,i=e.onFlipCard,s=t[n],l=Qe(),d=Object(a.useState)(!1),u=Object(o.a)(d,2),j=u[0],b=u[1];return Object(a.useLayoutEffect)((function(){b(!0)}),[n]),Object(a.useLayoutEffect)((function(){j&&b(!1)}),[j]),s?Object(m.jsx)("div",{className:r,children:!j&&Object(m.jsx)(Ke,{className:l.card,frontText:s.sides[0].text,backText:s.sides[1].text,showBack:c,onFlip:i})}):Object(m.jsx)("div",{className:r,children:!j&&Object(m.jsx)(Ke,{className:l.card,frontText:"",backText:"",showBack:!1,onFlip:function(){}})})}var _e=n(295),et=Object(D.a)({root:{display:"flex",alignItems:"center"},positionIndicator:{width:"10ch"}});function tt(e){var t=e.currentIndex,n=e.numberOfCards,a=e.onBack,c=e.onForward,r=et();return Object(m.jsxs)("div",{className:r.root,children:[Object(m.jsx)(p.a,{onClick:a,disabled:0===t||0===n,children:Object(m.jsx)(g.a,{})}),Object(m.jsx)("div",{children:Object(m.jsx)(v.a,{variant:"subtitle2",align:"center",className:r.positionIndicator,children:"".concat(n>0?t+1:0,"/").concat(n)})}),Object(m.jsx)(p.a,{onClick:c,disabled:t===n-1||0===n,children:Object(m.jsx)(_e.a,{})})]})}var nt=Object(D.a)((function(e){return{root:{display:"flex",flexDirection:"column",gap:e.spacing(2),padding:e.spacing(3)},deckStack:{height:280,width:"100%",maxWidth:397},deckStackContainer:{display:"flex",flexDirection:"column",alignItems:"center"},section:{display:"flex",flexDirection:"column",gap:e.spacing(1)},progressBar:{width:"100%",maxWidth:400},tagList:{display:"flex",flexWrap:"wrap",gap:e.spacing(.5)}}}));function at(){var e=nt(),t=Object(a.useState)(0),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),s=Object(o.a)(i,2),l=s[0],d=s[1],u=Object(b.h)().id,j=Object(a.useState)(!0),h=Object(o.a)(j,2),O=h[0],f=h[1],x=Object(a.useState)(null),p=Object(o.a)(x,2),g=p[0],k=p[1];Object(a.useEffect)((function(){f(!0),ue.findOne(u).then((function(e){return k(e)})).finally((function(){return f(!1)}))}),[u]),Object(a.useLayoutEffect)((function(){d(!1)}),[c]);var y=Object(a.useMemo)((function(){return(null===g||void 0===g?void 0:g.tags)?Object(Ie.a)(g.tags).sort():[]}),[null===g||void 0===g?void 0:g.tags]);return Object(m.jsxs)("div",{children:[Object(m.jsx)(he,{}),Object(m.jsx)("div",{className:e.root,children:Object(m.jsx)(Se,{loading:O,children:g&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("section",{className:e.section,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(v.a,{variant:"h4",children:g.title}),Object(m.jsxs)(v.a,{variant:"subtitle1",children:["by"," ",Object(m.jsx)(xe,{to:"/users/".concat(g.authorId),color:"inherit",children:g.authorId})]})]}),Object(m.jsxs)("div",{className:e.deckStackContainer,children:[Object(m.jsx)(Ze,{className:e.deckStack,cards:g.cards,activeIndex:c,showCardBack:l,onFlipCard:function(){return d((function(e){return!e}))}}),Object(m.jsx)(tt,{currentIndex:c,numberOfCards:g.cards.length,onBack:function(){r((function(e){return e-1}))},onForward:function(){r((function(e){return e+1}))}}),Object(m.jsx)(We.a,{className:e.progressBar,value:c,max:g.cards.length-1,valueLabelFormat:function(e){return e+1},onChange:function(e,t){return r(t)}})]})]}),Object(m.jsxs)("section",{className:e.section,children:[Object(m.jsx)(v.a,{variant:"h5",children:"Tags"}),Object(m.jsx)("div",{className:e.tagList,children:y.map((function(e){return Object(m.jsx)(Me.a,{label:e,variant:"outlined"},e)}))})]}),Object(m.jsxs)("section",{className:e.section,children:[Object(m.jsx)(v.a,{variant:"h5",children:"Terms"}),Object(m.jsx)(Xe,{cards:g.cards})]})]})})})]})}function ct(e){var t=e.isAuthenticated;return Object(m.jsx)(j.a,{children:Object(m.jsxs)(b.d,{children:[Object(m.jsx)(b.b,{exact:!0,path:y.home,children:t?Object(m.jsx)(b.a,{to:y.dashboard}):Object(m.jsx)(Ne,{})}),Object(m.jsx)(b.b,{path:y.dashboard,children:Object(m.jsx)(me,{userId:z.getCurrentUser()})}),Object(m.jsx)(b.b,{exact:!0,path:"".concat(y.decks,"/:id"),children:Object(m.jsx)(at,{})}),Object(m.jsx)(b.b,{path:"".concat(y.decks,"/:id/edit"),children:Object(m.jsx)(Re,{})}),Object(m.jsx)(b.b,{path:y.deckAdd,children:Object(m.jsx)(Re,{})}),Object(m.jsx)(b.b,{path:y.registration,children:Object(m.jsx)(H,{})}),Object(m.jsx)(b.b,{path:y.login,children:Object(m.jsx)(X,{})})]})})}function rt(){var e,t=Object(a.useState)({loggedIn:new Date(1e3*JSON.parse(null!==(e=localStorage.getItem("accessTokenPayload"))&&void 0!==e?e:'{"exp": 0}').exp)>new Date}),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(l.a,{}),Object(m.jsx)(u.Provider,{value:c,children:Object(m.jsx)(d.Provider,{value:function(e){r((function(t){return Object(s.a)(Object(s.a)({},t),e)}))},children:Object(m.jsx)(ct,{isAuthenticated:c.loggedIn})})})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var it=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,306)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(m.jsx)(a.StrictMode,{children:Object(m.jsx)(rt,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),it()}},[[233,1,2]]]);
//# sourceMappingURL=main.c75e3c24.chunk.js.map
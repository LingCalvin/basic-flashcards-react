(this["webpackJsonpbasic-flashcards-react"]=this["webpackJsonpbasic-flashcards-react"]||[]).push([[16],{181:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(23),a=n.n(r),c=n(25),i=n(42),s=n(31),o=n(32),u=n(41),l=n(47),d=new(function(){function t(e){Object(s.a)(this,t),this.http=e}return Object(o.a)(t,[{key:"create",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r,i,s,o,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.title,r=e.description,i=e.visibility,s=e.cards,t.next=3,this.http.post("/decks",{authorId:u.a.getCurrentUser(),title:n,description:r,visibility:i,cards:s.map((function(t){var e=Object(c.a)(t.sides,2);return{frontText:e[0].text,backText:e[1].text}}))});case 3:return o=t.sent,l=o.data,t.abrupt("return",l);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"findOne",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.get("/decks/".concat(e));case 2:return n=t.sent,r=n.data,t.abrupt("return",p(r));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"findAll",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.get("/decks",{params:e});case 2:return n=t.sent,r=n.data,t.abrupt("return",{decks:r.decks.map(p),count:r.count});case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r,i,s,o,l,d;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,r=e.title,i=e.description,s=e.visibility,o=e.cards,t.next=3,this.http.put("/decks/".concat(n),{authorId:u.a.getCurrentUser(),title:r,description:i,visibility:s,cards:o.map((function(t){var e=t.id,n=Object(c.a)(t.sides,2);return{id:e,frontText:n[0].text,backText:n[1].text}}))});case 3:return l=t.sent,d=l.data,t.abrupt("return",d);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"remove",value:function(){var t=Object(i.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.http.delete("/decks/".concat(e)));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}())(l.a);function p(t){return{id:t.id,authorId:t.authorId,title:t.title,description:t.description,visibility:t.visibility,cards:t.cards.map((function(t){return{id:t.id,sides:[{text:t.frontText},{text:t.backText}]}})),tags:[]}}},183:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(25),a=n(218),c=n(4),i=n(0),s=n(160),o=Object(s.a)({root:{display:"flex",justifyContent:"center"}}),u=n(2);function l(t){var e=t.loading,n=t.children,s=t.className,l=t.delay,d=void 0===l?300:l,p=o(),f=Object(i.useState)(d<=0),h=Object(r.a)(f,2),j=h[0],b=h[1];return Object(i.useEffect)((function(){var t=setTimeout((function(){b(!0)}),d);return function(){return clearTimeout(t)}}),[d]),e?Object(u.jsx)("div",{className:Object(c.a)(p.root,s),children:j&&Object(u.jsx)(a.a,{})}):Object(u.jsx)(u.Fragment,{children:n})}},188:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(219),a=n(26),c=n(2);function i(t){var e=t.to,n=t.color,i=t.children;return Object(c.jsx)(r.a,{component:a.b,to:e,color:n,children:i})}},196:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(132),a=n(133),c=n(165),i=n(188);var s=n(160),o=Object(s.a)((function(t){return{root:{padding:t.spacing(2)},title:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},buttonBox:{display:"flex",justifyContent:"flex-end"},deleteButton:{color:t.palette.error.main}}})),u=n(2);function l(t){var e,n=t.title,s=t.deckId,l=t.numberOfCards,d=t.author,p=t.onDelete,f=t.onExport,h=t.onEdit,j=o();return Object(u.jsxs)(r.a,{className:j.root,children:[Object(u.jsx)(i.a,{to:(e=s,"/decks/".concat(e)),children:Object(u.jsx)(a.a,{className:j.title,variant:"h5",component:"div",children:n})}),Object(u.jsx)(a.a,{children:"".concat(l," cards")}),d&&Object(u.jsxs)(a.a,{onClick:function(t){return t.stopPropagation()},component:"span",children:["By ",Object(u.jsx)(i.a,{to:"/users/".concat(d),children:d})]}),(p||f||h)&&Object(u.jsxs)("div",{className:j.buttonBox,children:[p&&Object(u.jsx)(c.a,{className:j.deleteButton,onClick:function(t){t.stopPropagation(),p()},children:"Delete"}),f&&Object(u.jsx)(c.a,{onClick:function(t){t.stopPropagation(),f()},children:"Export"}),h&&Object(u.jsx)(c.a,{color:"primary",onClick:function(t){t.stopPropagation(),h()},children:"Edit"})]})]})}},392:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return x}));var r=n(25),a=n(356),c=n(0),i=n(9),s=n(183),o=n(196),u=n(12),l=n(181),d=n(160),p=Object(d.a)((function(t){return{content:{height:"100%",padding:t.spacing(3)},paginationContainer:{display:"flex",flexDirection:"column",gap:t.spacing(2)},paginationControls:{display:"flex",justifyContent:"center"},results:{display:"flex",flexDirection:"column",gap:t.spacing(1)},emptyResults:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"100%"},emptyResultsIcon:{fontSize:t.typography.h1.fontSize}}}));function f(t,e,n){return Math.max(t,Math.min(e,n))}var h=n(167),j=n(133),b=n(2);function x(){var t,e=p(),n=Object(c.useState)([]),d=Object(r.a)(n,2),x=d[0],v=d[1],m=Object(c.useState)(0),O=Object(r.a)(m,2),g=O[0],y=O[1],k=Object(i.h)().search,w=new URLSearchParams(k),C=null!==(t=w.get("term"))&&void 0!==t?t:"",I=w.get("pageSize"),N=f(1,50,I?+I:10),S=Math.max(1,Math.ceil(g/N)),R=w.get("page"),E=f(1,S,R?+R:1),T=w.get("from"),U=Object(c.useState)(!0),B=Object(r.a)(U,2),D=B[0],P=B[1],z=Object(i.g)();Object(c.useEffect)((function(){T&&(w.delete("from"),z.replace({search:w.toString()}))})),Object(c.useEffect)((function(){if(!T){if(!C)return P(!1),void v([]);P(!0),l.a.findAll({titleContains:C,caseInsensitive:!0,take:N,skip:(E-1)*N}).then((function(t){var e=t.decks,n=t.count;v(e),y(n)})).finally((function(){return P(!1)}))}}),[T,E,N,C]);var M=Object(b.jsxs)("main",{className:e.paginationContainer,children:[Object(b.jsx)(j.a,{variant:"h1",children:"Results"}),Object(b.jsx)("div",{className:e.results,children:x.map((function(t){var e,n;return Object(b.jsx)(o.a,{deckId:null!==(e=t.id)&&void 0!==e?e:"",title:t.title,numberOfCards:t.cards.length,author:null!==(n=t.authorId)&&void 0!==n?n:""},t.id)}))}),g/N>1&&Object(b.jsx)("div",{className:e.paginationControls,children:Object(b.jsx)(a.a,{count:S,page:E,onChange:function(t,e){return z.push({pathname:u.a.deckSearch,search:"?term=".concat(encodeURIComponent(C),"&page=").concat(encodeURIComponent(e),"&pageSize=").concat(encodeURIComponent(N))})},disabled:D})})]}),A=Object(b.jsxs)("div",{className:e.emptyResults,children:[Object(b.jsx)(h.a,{className:e.emptyResultsIcon}),Object(b.jsx)(j.a,{variant:"h4",component:"div",children:"No results found"}),Object(b.jsx)(j.a,{children:"Enter a new search and results will show up here."})]});return Object(b.jsx)("div",{className:e.content,children:Object(b.jsx)(s.a,{loading:D,children:g>0?M:A})})}}}]);
//# sourceMappingURL=16.daa9ba23.chunk.js.map
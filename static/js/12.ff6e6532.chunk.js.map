{"version":3,"sources":["deck/services/decks.service.ts","common/constants/missing-required-field-error-message.tsx","common/hooks/use-unique-id.tsx","common/constants/snackbar.ts","deck/pages/add-deck.page.styles.tsx","deck/components/edit-card-tile.styles.tsx","deck/components/edit-card-tile.tsx","deck/components/edit-deck-form.styles.tsx","common/utils/array.utils.ts","deck/components/edit-deck-form.tsx","deck/pages/add-deck.page.tsx"],"names":["decksService","http","a","title","description","visibility","cards","this","post","authorId","authService","getCurrentUser","map","sides","frontText","text","backText","data","id","get","findOneDeckResponseToDeck","params","decks","count","put","cardId","delete","apiClient","card","tags","missingRequiredFieldErrorMessage","uniqueIdNumber","useUniqueId","useRef","current","autoHideDuration","useStyles","makeStyles","theme","backdrop","zIndex","appBar","textFieldContainer","display","gridTemplateColumns","gap","spacing","cardContent","flexDirection","margin","actionArea","justifyContent","header","alignItems","EditCardTile","cardNumber","forceValidate","onFrontTextChange","onBackTextChange","onDelete","onMoveUp","onMoveDown","classes","draggableId","useState","validateFrontText","setValidateFrontText","frontTextValid","length","frontTextError","validateBackText","setValidateBackText","backTextValid","backTextError","index","provided","Card","draggableProps","innerRef","className","Typography","variant","component","aria-label","dragHandleProps","style","height","DragHandle","TextField","label","required","multiline","value","error","helperText","undefined","onChange","e","target","inputProps","IconButton","onClick","disabled","Delete","ArrowUpward","ArrowDownward","form","marginTop","marginBottom","generalInfoContainer","cardList","saveButtonContainer","reorder","array","sourceIndex","destinationIndex","result","splice","EditDeckForm","onTitleChange","onDescriptionChange","onChangeVisibility","onCardsChange","onSubmit","droppableId","validateTitle","setValidateTitle","setForceValidate","showTitleError","changeCardSideText","cardIndex","side","newCards","modifiedCard","moveCard","currentIndex","targetIndex","ArrayUtils","noValidate","preventDefault","some","fullWidth","select","MenuItem","onDragEnd","source","destination","ref","droppableProps","i","slice","placeholder","Button","startIcon","Add","type","color","AddDeckPage","setTitle","setDescription","setVisibility","setCards","submitting","setSubmitting","history","useHistory","showSnackbar","setShowsSnackbar","snackbarMessage","setSnackbarMessage","open","create","then","goBack","catch","message","onClose"],"mappings":"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","file":"static/js/12.ff6e6532.chunk.js","sourcesContent":["import { AxiosInstance } from 'axios';\nimport { authService } from '../../auth/services/auth.service';\nimport apiClient from '../../common/constants/api-client';\nimport Deck from '../interfaces/deck';\nimport { FindAllDecksParams } from '../interfaces/find-all-decks-params';\nimport { FindAllDecksResponse } from '../interfaces/find-all-decks-response';\nimport FindOneDeckResponse from '../interfaces/find-one-deck-response';\n\nexport class DecksService {\n  constructor(private http: AxiosInstance) {}\n\n  async create({ title, description, visibility, cards }: Deck) {\n    const { data } = await this.http.post('/decks', {\n      authorId: authService.getCurrentUser(),\n      title,\n      description,\n      visibility,\n      cards: cards.map(\n        ({ sides: [{ text: frontText }, { text: backText }] }) => ({\n          frontText,\n          backText,\n        })\n      ),\n    });\n    return data;\n  }\n\n  async findOne(id: string): Promise<Deck | null> {\n    const { data } = await this.http.get<FindOneDeckResponse>(`/decks/${id}`);\n    return findOneDeckResponseToDeck(data);\n  }\n\n  async findAll(\n    params: FindAllDecksParams\n  ): Promise<{ decks: Deck[]; count: number }> {\n    const { data } = await this.http.get<FindAllDecksResponse>(`/decks`, {\n      params,\n    });\n\n    return {\n      decks: data.decks.map(findOneDeckResponseToDeck),\n      count: data.count,\n    };\n  }\n\n  async update({ id, title, description, visibility, cards }: Deck) {\n    const { data } = await this.http.put(`/decks/${id}`, {\n      authorId: authService.getCurrentUser(),\n      title,\n      description,\n      visibility,\n      cards: cards.map(\n        ({ id: cardId, sides: [{ text: frontText }, { text: backText }] }) => ({\n          id: cardId,\n          frontText,\n          backText,\n        })\n      ),\n    });\n    return data;\n  }\n\n  async remove(id: string) {\n    return this.http.delete(`/decks/${id}`);\n  }\n}\n\nexport const decksService = new DecksService(apiClient);\n\nfunction findOneDeckResponseToDeck(data: FindOneDeckResponse): Deck {\n  const { id, authorId, title, description, visibility } = data;\n  return {\n    id,\n    authorId,\n    title,\n    description,\n    visibility,\n    cards: data.cards.map((card) => ({\n      id: card.id,\n      sides: [{ text: card.frontText }, { text: card.backText }],\n    })),\n    tags: [],\n  };\n}\n","const missingRequiredFieldErrorMessage = 'This field is required.';\n\nexport default missingRequiredFieldErrorMessage;\n","import { useRef } from 'react';\n\nlet uniqueIdNumber = 0;\n\nexport default function useUniqueId() {\n  const uniqueId = useRef(`unique-id-${uniqueIdNumber++}`);\n  return uniqueId.current;\n}\n","export const autoHideDuration = 6000;\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.appBar + 1,\n  },\n}));\n\nexport default useStyles;\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  textFieldContainer: {\n    display: 'grid',\n    gridTemplateColumns: '1fr 1fr',\n    gap: theme.spacing(2),\n  },\n  cardContent: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: theme.spacing(1),\n    margin: theme.spacing(2),\n  },\n  actionArea: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n  header: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n}));\nexport default useStyles;\n","import { Card, IconButton, TextField, Typography } from '@material-ui/core';\nimport {\n  ArrowDownward,\n  ArrowUpward,\n  Delete,\n  DragHandle,\n} from '@material-ui/icons';\nimport { useState } from 'react';\nimport { Draggable } from 'react-beautiful-dnd';\nimport missingRequiredFieldErrorMessage from '../../common/constants/missing-required-field-error-message';\nimport useUniqueId from '../../common/hooks/use-unique-id';\nimport useStyles from './edit-card-tile.styles';\n\ninterface EditCardTileProps {\n  cardNumber: number;\n  frontText: string;\n  backText: string;\n  forceValidate?: boolean;\n  onFrontTextChange: (value: string) => void;\n  onBackTextChange: (value: string) => void;\n  onDelete?: () => void;\n  onMoveUp?: () => void;\n  onMoveDown?: () => void;\n}\n\nexport default function EditCardTile({\n  cardNumber,\n  frontText,\n  backText,\n  forceValidate,\n  onFrontTextChange,\n  onBackTextChange,\n  onDelete,\n  onMoveUp,\n  onMoveDown,\n}: EditCardTileProps) {\n  const classes = useStyles();\n\n  const draggableId = useUniqueId();\n\n  const [validateFrontText, setValidateFrontText] = useState(false);\n  const frontTextValid = frontText.length > 0;\n  const frontTextError =\n    (forceValidate || validateFrontText) && !frontTextValid;\n\n  const [validateBackText, setValidateBackText] = useState(false);\n  const backTextValid = backText.length > 0;\n  const backTextError = (forceValidate || validateBackText) && !backTextValid;\n\n  return (\n    <Draggable draggableId={draggableId} index={cardNumber - 1}>\n      {(provided) => (\n        <Card {...provided.draggableProps} innerRef={provided.innerRef}>\n          <div className={classes.cardContent}>\n            <div className={classes.header}>\n              <Typography\n                variant=\"h5\"\n                component=\"div\"\n              >{`Card ${cardNumber}`}</Typography>\n              <div\n                aria-label=\"card reorder drag handle\"\n                {...provided.dragHandleProps}\n                style={{ height: '24px' }}\n              >\n                <DragHandle />\n              </div>\n            </div>\n\n            <div className={classes.textFieldContainer}>\n              <TextField\n                label=\"Term\"\n                required\n                variant=\"outlined\"\n                multiline\n                value={frontText}\n                error={frontTextError}\n                helperText={\n                  frontTextError ? missingRequiredFieldErrorMessage : undefined\n                }\n                onChange={(e) => {\n                  setValidateFrontText(true);\n                  onFrontTextChange(e.target.value);\n                }}\n                inputProps={{ 'aria-label': 'term' }}\n              />\n              <TextField\n                label=\"Definition\"\n                required\n                variant=\"outlined\"\n                multiline\n                value={backText}\n                error={backTextError}\n                helperText={\n                  backTextError ? missingRequiredFieldErrorMessage : undefined\n                }\n                onChange={(e) => {\n                  setValidateBackText(true);\n                  onBackTextChange(e.target.value);\n                }}\n                inputProps={{ 'aria-label': 'definition' }}\n              />\n            </div>\n            <div className={classes.actionArea}>\n              <IconButton\n                aria-label=\"delete\"\n                onClick={onDelete}\n                disabled={!onDelete}\n              >\n                <Delete />\n              </IconButton>\n              <IconButton\n                aria-label=\"move up\"\n                onClick={onMoveUp}\n                disabled={!onMoveUp}\n              >\n                <ArrowUpward />\n              </IconButton>\n              <IconButton\n                aria-label=\"move down\"\n                onClick={onMoveDown}\n                disabled={!onMoveDown}\n              >\n                <ArrowDownward />\n              </IconButton>\n            </div>\n          </div>\n        </Card>\n      )}\n    </Draggable>\n  );\n}\n","import { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: theme.spacing(3),\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n  },\n  generalInfoContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: theme.spacing(2),\n  },\n  cardList: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: theme.spacing(2),\n  },\n  saveButtonContainer: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n}));\n\nexport default useStyles;\n","export function reorder<T>(\n  array: Array<T>,\n  sourceIndex: number,\n  destinationIndex: number\n): Array<T> {\n  const result = [...array];\n  result.splice(destinationIndex, 0, result.splice(sourceIndex, 1)[0]);\n  return result;\n}\n","import { Button, MenuItem, TextField } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport { useState } from 'react';\nimport Card from '../../card/interfaces/card';\nimport missingRequiredFieldErrorMessage from '../../common/constants/missing-required-field-error-message';\nimport { DeckVisibility } from '../types/deck-visibility';\nimport EditCardTile from './edit-card-tile';\nimport useStyles from './edit-deck-form.styles';\nimport * as ArrayUtils from '../../common/utils/array.utils';\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd';\nimport useUniqueId from '../../common/hooks/use-unique-id';\n\ninterface EditDeckFormProps {\n  title: string;\n  description: string;\n  visibility: DeckVisibility;\n  cards: Card[];\n  onTitleChange: (value: string) => void;\n  onDescriptionChange: (value: string) => void;\n  onChangeVisibility: (value: DeckVisibility) => void;\n  onCardsChange: (value: Card[]) => void;\n  onSubmit: () => void;\n}\n\nexport default function EditDeckForm({\n  title,\n  description,\n  visibility,\n  cards,\n  onTitleChange,\n  onDescriptionChange,\n  onChangeVisibility,\n  onCardsChange,\n  onSubmit,\n}: EditDeckFormProps) {\n  const classes = useStyles();\n\n  const droppableId = useUniqueId();\n\n  const [validateTitle, setValidateTitle] = useState(false);\n  const [forceValidate, setForceValidate] = useState(false);\n  const showTitleError = (forceValidate || validateTitle) && title.length === 0;\n\n  const changeCardSideText = (\n    cardIndex: number,\n    side: number,\n    value: string\n  ) => {\n    const newCards = [...cards];\n    const modifiedCard = { ...cards[cardIndex] };\n    modifiedCard.sides[side].text = value;\n    newCards[cardIndex] = modifiedCard;\n    onCardsChange(newCards);\n  };\n\n  const addCard = () => {\n    onCardsChange([...cards, { sides: [{ text: '' }, { text: '' }] }]);\n  };\n\n  const deleteCard = (index: number) => {\n    onCardsChange([...cards.slice(0, index), ...cards.slice(index + 1)]);\n  };\n\n  const moveCard = (currentIndex: number, targetIndex: number) => {\n    onCardsChange(ArrayUtils.reorder(cards, currentIndex, targetIndex));\n  };\n\n  return (\n    <form\n      noValidate\n      className={classes.form}\n      onSubmit={(e) => {\n        e.preventDefault();\n        if (\n          title.length === 0 ||\n          cards.some(({ sides }) =>\n            sides.some((side) => side.text.length === 0)\n          )\n        ) {\n          setForceValidate(true);\n          return;\n        }\n        onSubmit();\n      }}\n    >\n      <div className={classes.generalInfoContainer}>\n        <TextField\n          required\n          variant=\"outlined\"\n          label=\"Title\"\n          fullWidth\n          error={showTitleError}\n          helperText={\n            showTitleError ? missingRequiredFieldErrorMessage : undefined\n          }\n          value={title}\n          onChange={(e) => {\n            setValidateTitle(true);\n            onTitleChange(e.target.value);\n          }}\n          inputProps={{ 'aria-label': 'title' }}\n        />\n        <TextField\n          variant=\"outlined\"\n          label=\"Description\"\n          fullWidth\n          value={description}\n          onChange={(e) => onDescriptionChange(e.target.value)}\n          inputProps={{ 'aria-label': 'description' }}\n        />\n        <TextField\n          variant=\"outlined\"\n          value={visibility}\n          onChange={(e) => onChangeVisibility(e.target.value as DeckVisibility)}\n          select\n          label=\"Visibility\"\n          inputProps={{ 'aria-label': 'visibility' }}\n        >\n          <MenuItem value=\"PRIVATE\">Private</MenuItem>\n          <MenuItem value=\"PUBLIC\">Public</MenuItem>\n        </TextField>\n      </div>\n\n      <DragDropContext\n        onDragEnd={({ source, destination }) => {\n          if (\n            !destination ||\n            (destination.droppableId === source.droppableId &&\n              destination.index === source.index)\n          ) {\n            return;\n          }\n          onCardsChange(\n            ArrayUtils.reorder(cards, source.index, destination.index)\n          );\n        }}\n      >\n        <Droppable droppableId={droppableId}>\n          {(provided) => (\n            <div\n              className={classes.cardList}\n              ref={provided.innerRef}\n              {...provided.droppableProps}\n            >\n              {cards.map(\n                ({ sides: [{ text: frontText }, { text: backText }] }, i) => (\n                  <EditCardTile\n                    key={i}\n                    forceValidate={forceValidate}\n                    cardNumber={i + 1}\n                    frontText={frontText}\n                    backText={backText}\n                    onFrontTextChange={(value) =>\n                      changeCardSideText(i, 0, value)\n                    }\n                    onBackTextChange={(value) =>\n                      changeCardSideText(i, 1, value)\n                    }\n                    onDelete={\n                      cards.length > 1 ? () => deleteCard(i) : undefined\n                    }\n                    onMoveUp={i !== 0 ? () => moveCard(i, i - 1) : undefined}\n                    onMoveDown={\n                      i !== cards.length - 1\n                        ? () => moveCard(i, i + 1)\n                        : undefined\n                    }\n                  />\n                )\n              )}\n              {provided.placeholder}\n            </div>\n          )}\n        </Droppable>\n      </DragDropContext>\n      <Button\n        variant=\"outlined\"\n        fullWidth\n        startIcon={<Add />}\n        onClick={addCard}\n      >\n        Add card\n      </Button>\n      <div className={classes.saveButtonContainer}>\n        <Button type=\"submit\" variant=\"contained\" color=\"primary\">\n          Save\n        </Button>\n      </div>\n    </form>\n  );\n}\n","import {\n  Backdrop,\n  CircularProgress,\n  Container,\n  Snackbar,\n} from '@material-ui/core';\nimport { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport Card from '../../card/interfaces/card';\nimport { autoHideDuration } from '../../common/constants/snackbar';\nimport EditDeckForm from '../components/edit-deck-form';\nimport { decksService } from '../services/decks.service';\nimport { DeckVisibility } from '../types/deck-visibility';\nimport useStyles from './add-deck.page.styles';\n\nexport default function AddDeckPage() {\n  const classes = useStyles();\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [visibility, setVisibility] = useState<DeckVisibility>('PRIVATE');\n  const [cards, setCards] = useState<Card[]>([\n    { sides: [{ text: '' }, { text: '' }] },\n  ]);\n  const [submitting, setSubmitting] = useState(false);\n  const history = useHistory();\n\n  const [showSnackbar, setShowsSnackbar] = useState(false);\n  const [snackbarMessage, setSnackbarMessage] = useState('');\n\n  return (\n    <>\n      <Backdrop open={submitting} className={classes.backdrop}>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n      <Container>\n        <EditDeckForm\n          title={title}\n          description={description}\n          visibility={visibility}\n          cards={cards}\n          onTitleChange={setTitle}\n          onDescriptionChange={setDescription}\n          onChangeVisibility={setVisibility}\n          onCardsChange={setCards}\n          onSubmit={() => {\n            setSubmitting(true);\n            decksService\n              .create({ title, description, visibility, cards, tags: [] })\n              .then(() => history.goBack())\n              .catch(() => {\n                setSnackbarMessage('Failed to save deck.');\n                setShowsSnackbar(true);\n                setSubmitting(false);\n              });\n          }}\n        />\n      </Container>\n      <Snackbar\n        open={showSnackbar}\n        message={snackbarMessage}\n        autoHideDuration={autoHideDuration}\n        onClose={() => setShowsSnackbar(false)}\n      />\n    </>\n  );\n}\n"],"sourceRoot":""}
(this["webpackJsonpbasic-flashcards-react"]=this["webpackJsonpbasic-flashcards-react"]||[]).push([[17],{181:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n(23),r=n.n(a),c=n(25),i=n(42),s=n(31),o=n(32),u=n(41),d=n(47),l=new(function(){function t(e){Object(s.a)(this,t),this.http=e}return Object(o.a)(t,[{key:"create",value:function(){var t=Object(i.a)(r.a.mark((function t(e){var n,a,i,s,o,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.title,a=e.description,i=e.visibility,s=e.cards,t.next=3,this.http.post("/decks",{authorId:u.a.getCurrentUser(),title:n,description:a,visibility:i,cards:s.map((function(t){var e=Object(c.a)(t.sides,2);return{frontText:e[0].text,backText:e[1].text}}))});case 3:return o=t.sent,d=o.data,t.abrupt("return",d);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"findOne",value:function(){var t=Object(i.a)(r.a.mark((function t(e){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.get("/decks/".concat(e));case 2:return n=t.sent,a=n.data,t.abrupt("return",j(a));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"findAll",value:function(){var t=Object(i.a)(r.a.mark((function t(e){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.get("/decks",{params:e});case 2:return n=t.sent,a=n.data,t.abrupt("return",{decks:a.decks.map(j),count:a.count});case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=Object(i.a)(r.a.mark((function t(e){var n,a,i,s,o,d,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,a=e.title,i=e.description,s=e.visibility,o=e.cards,t.next=3,this.http.put("/decks/".concat(n),{authorId:u.a.getCurrentUser(),title:a,description:i,visibility:s,cards:o.map((function(t){var e=t.id,n=Object(c.a)(t.sides,2);return{id:e,frontText:n[0].text,backText:n[1].text}}))});case 3:return d=t.sent,l=d.data,t.abrupt("return",l);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"remove",value:function(){var t=Object(i.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.http.delete("/decks/".concat(e)));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}())(d.a);function j(t){return{id:t.id,authorId:t.authorId,title:t.title,description:t.description,visibility:t.visibility,cards:t.cards.map((function(t){return{id:t.id,sides:[{text:t.frontText},{text:t.backText}]}})),tags:[]}}},183:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n(25),r=n(218),c=n(4),i=n(0),s=n(160),o=Object(s.a)({root:{display:"flex",justifyContent:"center"}}),u=n(2);function d(t){var e=t.loading,n=t.children,s=t.className,d=t.delay,l=void 0===d?300:d,j=o(),f=Object(i.useState)(l<=0),b=Object(a.a)(f,2),p=b[0],h=b[1];return Object(i.useEffect)((function(){var t=setTimeout((function(){h(!0)}),l);return function(){return clearTimeout(t)}}),[l]),e?Object(u.jsx)("div",{className:Object(c.a)(j.root,s),children:p&&Object(u.jsx)(r.a,{})}):Object(u.jsx)(u.Fragment,{children:n})}},188:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(219),r=n(26),c=n(2);function i(t){var e=t.to,n=t.color,i=t.children;return Object(c.jsx)(a.a,{component:r.b,to:e,color:n,children:i})}},387:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return E}));var a=n(189),r=n(25),c=n(133),i=n(394),s=n(395),o=n(0),u=n.n(o),d=n(9),l=n(188),j=n(183),f=n(163),b=n(160),p=Object(b.a)((function(t){return{root:{display:"grid",gridTemplateColumns:"2fr auto 3fr",columnGap:t.spacing(2),gap:t.spacing(3)}}})),h=n(2);function x(t){var e=t.cards,n=p();return Object(h.jsx)("div",{className:n.root,children:e.map((function(t){var e;return Object(h.jsxs)(u.a.Fragment,{children:[Object(h.jsx)(c.a,{children:t.sides[0].text}),Object(h.jsx)(f.a,{orientation:"vertical"}),Object(h.jsx)(c.a,{children:t.sides[1].text})]},null!==(e=t.id)&&void 0!==e?e:JSON.stringify(t))}))})}var O=n(4),v=n(380),m=n(381),g=Object(b.a)((function(t){return{root:{display:"flex",flexDirection:"column",justifyContent:"center"},content:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",padding:t.spacing(3)},typography:{fontSize:t.typography.h5.fontSize}}}));function k(t){var e=t.text,n=t.className,a=g();return Object(h.jsx)(v.a,{className:Object(O.a)(a.root,n),children:Object(h.jsx)(m.a,{className:a.content,children:Object(h.jsx)(c.a,{className:a.typography,children:e})})})}var y=Object(b.a)({root:{display:"grid",gridTemplateAreas:'"main"',transformStyle:"preserve-3d"},cardFlipTransition:{transition:"transform 0.3s"},flip:{transform:"rotateX(180deg)"},cardSide:{gridArea:"main",backfaceVisibility:"hidden"},cardBack:{transform:"rotateX(180deg)"}});function N(t){var e=t.frontText,n=t.backText,a=t.showBack,r=t.className,c=t.onFlip,i=y();return Object(h.jsxs)("div",{className:Object(O.a)(i.root,i.cardFlipTransition,a&&i.flip,r),onClick:c,children:[Object(h.jsx)(k,{className:i.cardSide,text:e}),Object(h.jsx)(k,{className:Object(O.a)(i.cardSide,i.cardBack),text:n})]})}var w=Object(b.a)({card:{height:"100%",width:"100%"},hiddenCard:{display:"none"}});function T(t){var e=t.cards,n=t.activeIndex,a=t.showCardBack,c=t.className,i=t.onFlipCard,s=e[n],u=w(),d=Object(o.useState)(!1),l=Object(r.a)(d,2),j=l[0],f=l[1];return Object(o.useLayoutEffect)((function(){f(!0)}),[n]),Object(o.useLayoutEffect)((function(){j&&f(!1)}),[j]),s?Object(h.jsx)("div",{className:c,children:!j&&Object(h.jsx)(N,{className:u.card,frontText:s.sides[0].text,backText:s.sides[1].text,showBack:a,onFlip:i})}):Object(h.jsx)("div",{className:c,children:!j&&Object(h.jsx)(N,{className:u.card,frontText:"",backText:"",showBack:!1,onFlip:function(){}})})}var C=n(164),S=n(382),I=n(383),F=Object(b.a)({root:{display:"flex",alignItems:"center"},positionIndicator:{width:"10ch"}});function B(t){var e=t.currentIndex,n=t.numberOfCards,a=t.onBack,r=t.onForward,i=F();return Object(h.jsxs)("div",{className:i.root,children:[Object(h.jsx)(C.a,{"aria-label":"previous card",onClick:a,disabled:0===e||0===n,children:Object(h.jsx)(S.a,{})}),Object(h.jsx)("div",{children:Object(h.jsx)(c.a,{variant:"subtitle2",component:"span",align:"center",className:i.positionIndicator,children:"".concat(n>0?e+1:0,"/").concat(n)})}),Object(h.jsx)(C.a,{"aria-label":"next card",onClick:r,disabled:e===n-1||0===n,children:Object(h.jsx)(I.a,{})})]})}var L=n(181),D=Object(b.a)((function(t){return{root:{display:"flex",flexDirection:"column",gap:t.spacing(2),padding:t.spacing(3)},deckStack:{height:280,width:"100%",maxWidth:397},deckStackContainer:{display:"flex",flexDirection:"column",alignItems:"center"},section:{display:"flex",flexDirection:"column",gap:t.spacing(1)},progressBar:{width:"100%",maxWidth:400},tagList:{display:"flex",flexWrap:"wrap",gap:t.spacing(.5)}}}));function E(){var t=D(),e=Object(o.useState)(0),n=Object(r.a)(e,2),u=n[0],f=n[1],b=Object(o.useState)(!1),p=Object(r.a)(b,2),O=p[0],v=p[1],m=Object(d.i)().id,g=Object(o.useState)(!0),k=Object(r.a)(g,2),y=k[0],N=k[1],w=Object(o.useState)(null),C=Object(r.a)(w,2),S=C[0],I=C[1];Object(o.useEffect)((function(){N(!0),L.a.findOne(m).then((function(t){return I(t)})).finally((function(){return N(!1)}))}),[m]),Object(o.useLayoutEffect)((function(){v(!1)}),[u]);var F=Object(o.useMemo)((function(){return(null===S||void 0===S?void 0:S.tags)?Object(a.a)(S.tags).sort():[]}),[null===S||void 0===S?void 0:S.tags]);return Object(h.jsx)("main",{className:t.root,children:Object(h.jsx)(j.a,{loading:y,children:S&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(c.a,{variant:"h1",children:S.title}),Object(h.jsxs)(c.a,{variant:"subtitle1",component:"div",children:["by ",Object(h.jsx)(l.a,{to:"/users/".concat(S.authorId),children:S.authorId})]})]}),Object(h.jsx)("section",{className:t.section,children:Object(h.jsxs)("div",{className:t.deckStackContainer,children:[Object(h.jsx)(T,{className:t.deckStack,cards:S.cards,activeIndex:u,showCardBack:O,onFlipCard:function(){return v((function(t){return!t}))}}),Object(h.jsx)(B,{currentIndex:u,numberOfCards:S.cards.length,onBack:function(){f((function(t){return t-1}))},onForward:function(){f((function(t){return t+1}))}}),Object(h.jsx)(i.a,{"aria-label":"current card slider",className:t.progressBar,value:1!==S.cards.length?u:1,max:1!==S.cards.length?S.cards.length-1:1,valueLabelFormat:function(t){return t+1},onChange:S.cards.length>1?function(t,e){return f(e)}:void 0})]})}),Object(h.jsxs)("section",{className:t.section,children:[Object(h.jsx)(c.a,{variant:"h2",children:"Tags"}),Object(h.jsx)("div",{className:t.tagList,children:F.map((function(t){return Object(h.jsx)(s.a,{label:t,variant:"outlined"},t)}))})]}),Object(h.jsxs)("section",{className:t.section,children:[Object(h.jsx)(c.a,{variant:"h2",children:"Terms"}),Object(h.jsx)(x,{cards:S.cards})]})]})})})}}}]);
//# sourceMappingURL=17.a986b266.chunk.js.map
(this["webpackJsonpbasic-flashcards-react"]=this["webpackJsonpbasic-flashcards-react"]||[]).push([[12],{177:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(28),r=n.n(a),i=n(24),c=n(47),s=n(31),o=n(32),u=n(40),l=n(46),d=new(function(){function e(t){Object(s.a)(this,e),this.http=t}return Object(o.a)(e,[{key:"create",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,s,o,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,a=t.description,c=t.visibility,s=t.cards,e.next=3,this.http.post("/decks",{authorId:u.a.getCurrentUser(),title:n,description:a,visibility:c,cards:s.map((function(e){var t=Object(i.a)(e.sides,2);return{frontText:t[0].text,backText:t[1].text}}))});case 3:return o=e.sent,l=o.data,e.abrupt("return",l);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findOne",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.get("/decks/".concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",b(a));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findAll",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.get("/decks",{params:t});case 2:return n=e.sent,a=n.data,e.abrupt("return",{decks:a.decks.map(b),count:a.count});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,s,o,l,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.title,c=t.description,s=t.visibility,o=t.cards,e.next=3,this.http.put("/decks/".concat(n),{authorId:u.a.getCurrentUser(),title:a,description:c,visibility:s,cards:o.map((function(e){var t=e.id,n=Object(i.a)(e.sides,2);return{id:t,frontText:n[0].text,backText:n[1].text}}))});case 3:return l=e.sent,d=l.data,e.abrupt("return",d);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.http.delete("/decks/".concat(t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())(l.a);function b(e){return{id:e.id,authorId:e.authorId,title:e.title,description:e.description,visibility:e.visibility,cards:e.cards.map((function(e){return{id:e.id,sides:[{text:e.frontText},{text:e.backText}]}})),tags:[]}}},178:function(e,t,n){"use strict";t.a="This field is required."},180:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=0;function i(){return Object(a.useRef)("unique-id-".concat(r++)).current}},184:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=6e3},195:function(e,t,n){"use strict";var a=n(157),r=Object(a.a)((function(e){return{backdrop:{zIndex:e.zIndex.appBar+1}}}));t.a=r},201:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a=n(39),r=n(182),i=n(24),c=n(344),s=n(171),o=n(162),u=n(326),l=n(0),d=n(178),b=n(225),j=n(130),p=n(161),f=n(328),h=n(329),x=n(330),v=n(331),O=n(191),g=n(180),m=n(157),C=Object(m.a)((function(e){return{textFieldContainer:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:e.spacing(2)},cardContent:{display:"flex",flexDirection:"column",gap:e.spacing(1),margin:e.spacing(2)},actionArea:{display:"flex",justifyContent:"flex-end"},header:{display:"flex",justifyContent:"space-between",alignItems:"center"}}})),y=n(2);function k(e){var t=e.cardNumber,n=e.frontText,r=e.backText,s=e.forceValidate,o=e.onFrontTextChange,u=e.onBackTextChange,m=e.onDelete,k=e.onMoveUp,T=e.onMoveDown,w=C(),I=Object(g.a)(),D=Object(l.useState)(!1),S=Object(i.a)(D,2),P=S[0],N=S[1],B=n.length>0,V=(s||P)&&!B,A=Object(l.useState)(!1),F=Object(i.a)(A,2),R=F[0],q=F[1],U=r.length>0,M=(s||R)&&!U;return Object(y.jsx)(O.b,{draggableId:I,index:t-1,children:function(e){return Object(y.jsx)(b.a,Object(a.a)(Object(a.a)({},e.draggableProps),{},{innerRef:e.innerRef,children:Object(y.jsxs)("div",{className:w.cardContent,children:[Object(y.jsxs)("div",{className:w.header,children:[Object(y.jsx)(j.a,{variant:"h5",component:"div",children:"Card ".concat(t)}),Object(y.jsx)("div",Object(a.a)(Object(a.a)({"aria-label":"card reorder drag handle"},e.dragHandleProps),{},{style:{height:"24px"},children:Object(y.jsx)(f.a,{})}))]}),Object(y.jsxs)("div",{className:w.textFieldContainer,children:[Object(y.jsx)(c.a,{label:"Term",required:!0,variant:"outlined",multiline:!0,value:n,error:V,helperText:V?d.a:void 0,onChange:function(e){N(!0),o(e.target.value)},inputProps:{"aria-label":"term"}}),Object(y.jsx)(c.a,{label:"Definition",required:!0,variant:"outlined",multiline:!0,value:r,error:M,helperText:M?d.a:void 0,onChange:function(e){q(!0),u(e.target.value)},inputProps:{"aria-label":"definition"}})]}),Object(y.jsxs)("div",{className:w.actionArea,children:[Object(y.jsx)(p.a,{"aria-label":"delete",onClick:m,disabled:!m,children:Object(y.jsx)(h.a,{})}),Object(y.jsx)(p.a,{"aria-label":"move up",onClick:k,disabled:!k,children:Object(y.jsx)(x.a,{})}),Object(y.jsx)(p.a,{"aria-label":"move down",onClick:T,disabled:!T,children:Object(y.jsx)(v.a,{})})]})]})}))}})}var T=Object(m.a)((function(e){return{form:{display:"flex",flexDirection:"column",gap:e.spacing(3),marginTop:e.spacing(3),marginBottom:e.spacing(3)},generalInfoContainer:{display:"flex",flexDirection:"column",gap:e.spacing(2)},cardList:{display:"flex",flexDirection:"column",gap:e.spacing(2)},saveButtonContainer:{display:"flex",justifyContent:"flex-end"}}}));function w(e,t,n){var a=Object(r.a)(e);return a.splice(n,0,a.splice(t,1)[0]),a}function I(e){var t=e.title,n=e.description,b=e.visibility,j=e.cards,p=e.onTitleChange,f=e.onDescriptionChange,h=e.onChangeVisibility,x=e.onCardsChange,v=e.onSubmit,m=T(),C=Object(g.a)(),I=Object(l.useState)(!1),D=Object(i.a)(I,2),S=D[0],P=D[1],N=Object(l.useState)(!1),B=Object(i.a)(N,2),V=B[0],A=B[1],F=(V||S)&&0===t.length,R=function(e,t,n){var i=Object(r.a)(j),c=Object(a.a)({},j[e]);c.sides[t].text=n,i[e]=c,x(i)},q=function(e,t){x(w(j,e,t))};return Object(y.jsxs)("form",{noValidate:!0,className:m.form,onSubmit:function(e){e.preventDefault(),0===t.length||j.some((function(e){return e.sides.some((function(e){return 0===e.text.length}))}))?A(!0):v()},children:[Object(y.jsxs)("div",{className:m.generalInfoContainer,children:[Object(y.jsx)(c.a,{required:!0,variant:"outlined",label:"Title",fullWidth:!0,error:F,helperText:F?d.a:void 0,value:t,onChange:function(e){P(!0),p(e.target.value)},inputProps:{"aria-label":"title"}}),Object(y.jsx)(c.a,{variant:"outlined",label:"Description",fullWidth:!0,value:n,onChange:function(e){return f(e.target.value)},inputProps:{"aria-label":"description"}}),Object(y.jsxs)(c.a,{variant:"outlined",value:b,onChange:function(e){return h(e.target.value)},select:!0,label:"Visibility",inputProps:{"aria-label":"visibility"},children:[Object(y.jsx)(s.a,{value:"PRIVATE",children:"Private"}),Object(y.jsx)(s.a,{value:"PUBLIC",children:"Public"})]})]}),Object(y.jsx)(O.a,{onDragEnd:function(e){var t=e.source,n=e.destination;!n||n.droppableId===t.droppableId&&n.index===t.index||x(w(j,t.index,n.index))},children:Object(y.jsx)(O.c,{droppableId:C,children:function(e){return Object(y.jsxs)("div",Object(a.a)(Object(a.a)({className:m.cardList,ref:e.innerRef},e.droppableProps),{},{children:[j.map((function(e,t){var n=Object(i.a)(e.sides,2),a=n[0].text,c=n[1].text;return Object(y.jsx)(k,{forceValidate:V,cardNumber:t+1,frontText:a,backText:c,onFrontTextChange:function(e){return R(t,0,e)},onBackTextChange:function(e){return R(t,1,e)},onDelete:j.length>1?function(){return e=t,void x([].concat(Object(r.a)(j.slice(0,e)),Object(r.a)(j.slice(e+1))));var e}:void 0,onMoveUp:0!==t?function(){return q(t,t-1)}:void 0,onMoveDown:t!==j.length-1?function(){return q(t,t+1)}:void 0},t)})),e.placeholder]}))}})}),Object(y.jsx)(o.a,{variant:"outlined",fullWidth:!0,startIcon:Object(y.jsx)(u.a,{}),onClick:function(){x([].concat(Object(r.a)(j),[{sides:[{text:""},{text:""}]}]))},children:"Add card"}),Object(y.jsx)("div",{className:m.saveButtonContainer,children:Object(y.jsx)(o.a,{type:"submit",variant:"contained",color:"primary",children:"Save"})})]})}},327:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var a=n(24),r=n(318),i=n(194),c=n(226),s=n(345),o=n(0),u=n(9),l=n(184),d=n(201),b=n(177),j=n(195),p=n(2);function f(){var e=Object(j.a)(),t=Object(o.useState)(""),n=Object(a.a)(t,2),f=n[0],h=n[1],x=Object(o.useState)(""),v=Object(a.a)(x,2),O=v[0],g=v[1],m=Object(o.useState)("PRIVATE"),C=Object(a.a)(m,2),y=C[0],k=C[1],T=Object(o.useState)([{sides:[{text:""},{text:""}]}]),w=Object(a.a)(T,2),I=w[0],D=w[1],S=Object(o.useState)(!1),P=Object(a.a)(S,2),N=P[0],B=P[1],V=Object(u.g)(),A=Object(o.useState)(!1),F=Object(a.a)(A,2),R=F[0],q=F[1],U=Object(o.useState)(""),M=Object(a.a)(U,2),E=M[0],L=M[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(r.a,{open:N,className:e.backdrop,children:Object(p.jsx)(i.a,{color:"inherit"})}),Object(p.jsx)(c.a,{children:Object(p.jsx)(d.a,{title:f,description:O,visibility:y,cards:I,onTitleChange:h,onDescriptionChange:g,onChangeVisibility:k,onCardsChange:D,onSubmit:function(){B(!0),b.a.create({title:f,description:O,visibility:y,cards:I,tags:[]}).then((function(){return V.goBack()})).catch((function(){L("Failed to save deck."),q(!0),B(!1)}))}})}),Object(p.jsx)(s.a,{open:R,message:E,autoHideDuration:l.a,onClose:function(){return q(!1)}})]})}}}]);
//# sourceMappingURL=12.ff6e6532.chunk.js.map
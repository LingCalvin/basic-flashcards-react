(this["webpackJsonpbasic-flashcards-react"]=this["webpackJsonpbasic-flashcards-react"]||[]).push([[12],{175:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var a=i(28),r=i.n(a),n=i(24),c=i(47),s=i(31),l=i(32),d=i(39),o=i(46),u=new(function(){function e(t){Object(s.a)(this,e),this.http=t}return Object(l.a)(e,[{key:"create",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var i,a,c,s,l,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.title,a=t.description,c=t.visibility,s=t.cards,e.next=3,this.http.post("/decks",{authorId:d.a.getCurrentUser(),title:i,description:a,visibility:c,cards:s.map((function(e){var t=Object(n.a)(e.sides,2);return{frontText:t[0].text,backText:t[1].text}}))});case 3:return l=e.sent,o=l.data,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findOne",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var i,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.get("/decks/".concat(t));case 2:return i=e.sent,a=i.data,e.abrupt("return",p(a));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findAll",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var i,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.get("/decks",{params:t});case 2:return i=e.sent,a=i.data,e.abrupt("return",{decks:a.decks.map(p),count:a.count});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var i,a,c,s,l,o,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.id,a=t.title,c=t.description,s=t.visibility,l=t.cards,e.next=3,this.http.put("/decks/".concat(i),{authorId:d.a.getCurrentUser(),title:a,description:c,visibility:s,cards:l.map((function(e){var t=e.id,i=Object(n.a)(e.sides,2);return{id:t,frontText:i[0].text,backText:i[1].text}}))});case 3:return o=e.sent,u=o.data,e.abrupt("return",u);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.http.delete("/decks/".concat(t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())(o.a);function p(e){return{id:e.id,authorId:e.authorId,title:e.title,description:e.description,visibility:e.visibility,cards:e.cards.map((function(e){return{id:e.id,sides:[{text:e.frontText},{text:e.backText}]}})),tags:[]}}},185:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var a=6e3},213:function(e,t,i){"use strict";var a=i(157),r=Object(a.a)((function(e){return{backdrop:{zIndex:e.zIndex.appBar+1}}}));t.a=r},215:function(e,t,i){"use strict";i.d(t,"a",(function(){return k}));var a=i(40),r=i(384),n=i(171),c=i(129),s=i(130),l=i(161),d=i(162),o=i(0),u=i(51),p=Object(u.a)(o.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),b=Object(u.a)(o.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),v=Object(u.a)(o.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),f=i(369),j=i(182),x=i(157),h=Object(x.a)((function(e){return{form:{display:"flex",flexDirection:"column",gap:e.spacing(3),marginTop:e.spacing(3),marginBottom:e.spacing(3)},generalInfoContainer:{display:"flex",flexDirection:"column",gap:e.spacing(2)},cardList:{display:"flex",flexDirection:"column",gap:e.spacing(2)},saveButtonContainer:{display:"flex",justifyContent:"flex-end"},editCardTile:{display:"flex",flexDirection:"column",gap:e.spacing(1),padding:e.spacing(2)},editCardTileFieldContainer:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:e.spacing(2)},editCardTileActionArea:{display:"flex",justifyContent:"flex-end"}}})),O=i(199),m=i(200),y=i(2),g=O.b().shape({title:O.d().label("Title").required().max(255),description:O.d().label("Description").max(4096),visibility:O.d().label("Visibility").oneOf(["PRIVATE","PUBLIC"]),cards:O.a().of(O.b().shape({sides:O.a().of(O.b().shape({text:O.d().label("This").required().max(4096)}))}))});function k(e){var t,i,o,u,x=e.defaultValues,O=e.variant,k=e.onSubmit,T=h(),C=Object(j.e)({defaultValues:x,reValidateMode:"onBlur",resolver:Object(m.a)(g)}),V=C.control,w=C.formState.errors,I=C.handleSubmit,P=C.register,A=Object(j.d)({control:V,name:"cards",keyName:"key"}),D=A.append,N=A.fields,S=A.move,B=A.remove;return Object(y.jsxs)("form",{className:T.form,noValidate:!0,onSubmit:I(k),children:[Object(y.jsxs)("div",{className:T.generalInfoContainer,children:[Object(y.jsx)(r.a,{label:"Title",required:!0,variant:O,defaultValue:"",inputProps:Object(a.a)({"aria-label":"title"},P("title")),error:void 0!==w.title,helperText:null===(t=w.title)||void 0===t?void 0:t.message}),Object(y.jsx)(r.a,{label:"Description",variant:O,defaultValue:"",inputProps:Object(a.a)({"aria-label":"description"},P("description")),error:void 0!==w.description,helperText:null===(i=w.description)||void 0===i?void 0:i.message}),Object(y.jsxs)(r.a,{label:"Visibility",select:!0,variant:O,defaultValue:null!==(o=null===x||void 0===x?void 0:x.visibility)&&void 0!==o?o:"PRIVATE",inputProps:Object(a.a)({"aria-label":"visibility"},P("visibility")),error:void 0!==w.visibility,helperText:null===(u=w.visibility)||void 0===u?void 0:u.message,children:[Object(y.jsx)(n.a,{value:"PRIVATE",children:"Private"}),Object(y.jsx)(n.a,{value:"PUBLIC",children:"Public"})]})]}),Object(y.jsx)("div",{className:T.cardList,children:N.map((function(e,t){var i,n,d,o,u,f,j,x,h,m,g,k,C,V,I,A,D,L,E=e.key,z=e.sides;return Object(y.jsxs)(c.a,{className:T.editCardTile,children:[Object(y.jsx)(s.a,{variant:"h6",component:"div",children:"Card ".concat(t+1)}),Object(y.jsxs)("div",{className:T.editCardTileFieldContainer,children:[Object(y.jsx)(r.a,{label:"Term",required:!0,variant:O,defaultValue:z[0].text,inputProps:Object(a.a)({"aria-label":"term"},P("cards.".concat(t,".sides.0.text"))),error:void 0!==(null===(i=w.cards)||void 0===i||null===(n=i[t])||void 0===n||null===(d=n.sides)||void 0===d||null===(o=d[0])||void 0===o?void 0:o.text),helperText:null===(u=w.cards)||void 0===u||null===(f=u[t])||void 0===f||null===(j=f.sides)||void 0===j||null===(x=j[0])||void 0===x||null===(h=x.text)||void 0===h?void 0:h.message}),Object(y.jsx)(r.a,{label:"Definition",required:!0,variant:O,defaultValue:z[1].text,inputProps:Object(a.a)({"aria-label":"definition"},P("cards.".concat(t,".sides.1.text"))),error:void 0!==(null===(m=w.cards)||void 0===m||null===(g=m[t])||void 0===g||null===(k=g.sides)||void 0===k||null===(C=k[1])||void 0===C?void 0:C.text),helperText:null===(V=w.cards)||void 0===V||null===(I=V[t])||void 0===I||null===(A=I.sides)||void 0===A||null===(D=A[1])||void 0===D||null===(L=D.text)||void 0===L?void 0:L.message})]}),Object(y.jsxs)("div",{className:T.editCardTileActionArea,children:[Object(y.jsx)(l.a,{"aria-label":"delete",onClick:function(){return B(t)},disabled:N.length<=1,children:Object(y.jsx)(p,{})}),Object(y.jsx)(l.a,{"aria-label":"move up",onClick:function(){return S(t,t-1)},disabled:t<=0,children:Object(y.jsx)(b,{})}),Object(y.jsx)(l.a,{"aria-label":"move down",onClick:function(){return S(t,t+1)},disabled:t>=N.length-1,children:Object(y.jsx)(v,{})})]})]},E)}))}),Object(y.jsx)(d.a,{variant:"outlined",fullWidth:!0,startIcon:Object(y.jsx)(f.a,{}),onClick:function(){return D({sides:[{text:""},{text:""}]})},children:"Add card"}),Object(y.jsx)("div",{className:T.saveButtonContainer,children:Object(y.jsx)(d.a,{type:"submit",variant:"contained",color:"primary",children:"Save"})})]})}},370:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return j}));var a=i(40),r=i(24),n=i(361),c=i(203),s=i(371),l=i(385),d=i(0),o=i(9),u=i(185),p=i(215),b=i(175),v=i(213),f=i(2);function j(){var e=Object(v.a)(),t=Object(d.useState)(!1),i=Object(r.a)(t,2),j=i[0],x=i[1],h=Object(o.g)(),O=Object(d.useState)(!1),m=Object(r.a)(O,2),y=m[0],g=m[1],k=Object(d.useState)(""),T=Object(r.a)(k,2),C=T[0],V=T[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(n.a,{open:j,className:e.backdrop,children:Object(f.jsx)(c.a,{color:"inherit"})}),Object(f.jsx)(s.a,{children:Object(f.jsx)(p.a,{variant:"outlined",defaultValues:{title:"",description:"",visibility:"PRIVATE",cards:[{sides:[{text:""},{text:""}]}]},onSubmit:function(e){x(!0),b.a.create(Object(a.a)({tags:[]},e)).then((function(){return h.goBack()})).catch((function(){V("Failed to save deck."),g(!0),x(!1)}))}})}),Object(f.jsx)(l.a,{open:y,message:C,autoHideDuration:u.a,onClose:function(){return g(!1)}})]})}}}]);
//# sourceMappingURL=12.168c17af.chunk.js.map
(this["webpackJsonpbasic-flashcards-react"]=this["webpackJsonpbasic-flashcards-react"]||[]).push([[0],{105:function(e,t,n){},131:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(14),i=n.n(r),s=(n(105),n(40)),o=n(9),l=n(193),d=Object(c.createContext)((function(){})),u=Object(c.createContext)({loggedIn:!1}),j=n(32),b=n(12),h=n(20),O=n.n(h),x=n(31),f=n(57),p=n(58),v=n(85),g=n.n(v).a.create({baseURL:"https://basic-flashcards.herokuapp.com",withCredentials:!0});g.interceptors.request.use((function(e){var t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}));var m=g,k=new(function(){function e(t){Object(f.a)(this,e),this.http=t}return Object(p.a)(e,[{key:"logIn",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n,c,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.post("/auth/access-tokens",{idToken:t});case 2:return n=e.sent,c=n.data,a=c.accessToken,r=c.decodedAccessToken,localStorage.setItem("accessToken",a),localStorage.setItem("accessTokenPayload",JSON.stringify(r)),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("accessToken"),localStorage.removeItem("accessTokenPayload");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"verifyAccessToken",value:function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.http.get("/auth/access-tokens/".concat(t));case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentUser",value:function(){var e=localStorage.getItem("accessTokenPayload");return e?JSON.parse(e).sub:null}}]),e}())(m),y={home:"/",dashboard:"/dashboard",decks:"/decks",deckSearch:"/search-decks",deckAdd:"/add-deck"},C=n(27),S=n(173),T=n(174),I=n(175),N=n(176),w=n(177),D=n(171),B=n(72),F=n(196),A=n(194),L=n(198),E=n(199),P=n(195);var q=0;function z(){return Object(c.useRef)("unique-id-".concat(q++)).current}var V=new(function(){function e(t){Object(f.a)(this,e),this.http=t}return Object(p.a)(e,[{key:"create",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n,c,a,r,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,c=t.description,a=t.visibility,r=t.cards,e.next=3,this.http.post("/decks",{authorId:k.getCurrentUser(),title:n,description:c,visibility:a,cards:r.map((function(e){var t=Object(o.a)(e.sides,2);return{frontText:t[0].text,backText:t[1].text}}))});case 3:return i=e.sent,s=i.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findOne",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.get("/decks/".concat(t));case 2:return n=e.sent,c=n.data,e.abrupt("return",W(c));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findAll",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.get("/decks",{params:t});case 2:return n=e.sent,c=n.data,e.abrupt("return",{decks:c.decks.map(W),count:c.count});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.http.delete("/decks/".concat(t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())(m);function W(e){return{id:e.id,authorId:e.authorId,title:e.title,description:e.description,visibility:e.visibility,cards:e.cards.map((function(e){return{sides:[{text:e.frontText},{text:e.backText}]}})),tags:[]}}var M=n(168),R=n(170),U=n(165),J=Object(U.a)({homeLink:{textTransform:"none"}}),G=n(2);function X(){var e=J();return Object(G.jsx)(M.a,{position:"sticky",children:Object(G.jsx)(R.a,{children:Object(G.jsx)(D.a,{color:"inherit",component:j.b,to:y.home,className:e.homeLink,children:Object(G.jsx)(B.a,{variant:"h6",children:"Basic Flashcards"})})})})}var Y=n(71),$=n(172);function _(e){var t=e.to,n=e.color,c=e.children;return Object(G.jsx)($.a,{component:j.b,to:t,color:n,children:c})}var H=Object(U.a)((function(e){return{root:{cursor:"pointer",padding:e.spacing(2),"&:hover":{backgroundColor:e.palette.grey[50]}},buttonBox:{display:"flex",justifyContent:"flex-end"}}}));function K(e){var t=e.title,n=(e.deckId,e.numberOfCards),c=e.author,a=e.onClick,r=e.onDelete,i=e.onExport,s=e.onEdit,o=H();return Object(G.jsxs)(Y.a,{className:o.root,onClick:a,children:[Object(G.jsx)(B.a,{variant:"h5",children:t}),Object(G.jsx)(B.a,{children:"".concat(n," cards")}),c&&Object(G.jsxs)(B.a,{children:["By ",Object(G.jsx)(_,{to:"/users/".concat(c),children:c})]}),(r||i||s)&&Object(G.jsxs)("div",{className:o.buttonBox,children:[r&&Object(G.jsx)(D.a,{color:"secondary",onClick:function(e){e.stopPropagation(),r()},children:"Delete"}),i&&Object(G.jsx)(D.a,{onClick:function(e){e.stopPropagation(),i()},children:"Export"}),s&&Object(G.jsx)(D.a,{color:"primary",onClick:function(e){e.stopPropagation(),s()},children:"Edit"})]})]})}var Q=Object(U.a)((function(e){return{content:{display:"flex",flexDirection:"column",gap:e.spacing(2),margin:e.spacing(3)},paginationContainer:{display:"flex",flexDirection:"column",gap:e.spacing(2)},deckList:{display:"flex",flexDirection:"column",gap:e.spacing(1)},sortAndSearchContainer:{display:"flex",gap:e.spacing(2)},addButton:{marginLeft:"auto"}}}));function Z(e){var t=e.userId,n=e.pageSize,a=void 0===n?10:n,r=Object(C.a)(),i=Object(c.useState)([]),l=Object(o.a)(i,2),d=l[0],u=l[1],h=Object(c.useState)(0),O=Object(o.a)(h,2),x=O[0],f=O[1],p=Object(c.useState)(1),v=Object(o.a)(p,2),g=v[0],m=v[1],k=Object(c.useState)(!1),q=Object(o.a)(k,2),W=q[0],M=q[1],R=Object(b.g)(),U=Q(),J=z(),Y=Object(c.useState)(""),$=Object(o.a)(Y,2),_=$[0],H=$[1],Z=function(e,t){var n=Object(c.useState)(e),a=Object(o.a)(n,2),r=a[0],i=a[1],s=Object(c.useRef)(Date.now());return Object(c.useEffect)((function(){var n=setTimeout((function(){i(e),s.current=Date.now()}),t-(Date.now()-s.current));return function(){return clearTimeout(n)}}),[e,t]),r}(_,r.transitions.duration.short),ee=function(e){M(!0),V.findAll(Object(s.a)({},e)).then((function(e){u(e.decks),f(e.count)})).finally((function(){return M(!1)}))};Object(c.useEffect)((function(){ee({authorId:[t],orderTitleBy:"asc",take:a,skip:(g-1)*a,caseInsensitive:!0,titleContains:Z||void 0})}),[g,a,Z,t]);var te=Object(c.useState)(!1),ne=Object(o.a)(te,2),ce=ne[0],ae=ne[1],re=Object(c.useState)(null),ie=Object(o.a)(re,2),se=ie[0],oe=ie[1];return Object(G.jsxs)("div",{children:[Object(G.jsxs)(S.a,{open:ce,onBackdropClick:function(){return ae(!1)},onExited:function(){return oe(null)},children:[Object(G.jsx)(T.a,{children:"Delete deck?"}),Object(G.jsxs)(I.a,{children:[Object(G.jsxs)(N.a,{children:['Are you sure you want to delete deck "',null===se||void 0===se?void 0:se.title,'"? This action cannot be undone.']}),Object(G.jsxs)(w.a,{children:[Object(G.jsx)(D.a,{color:"primary",autoFocus:!0,onClick:function(){ae(!1)},children:"Cancel"}),Object(G.jsx)(D.a,{color:"primary",onClick:function(){var e;V.remove(null!==(e=null===se||void 0===se?void 0:se.id)&&void 0!==e?e:"").then((function(){return ee({authorId:[t],orderTitleBy:"asc",take:a,skip:(g-1)*a,caseInsensitive:!0,titleContains:Z||void 0})})).finally((function(){return ae(!1)}))},children:"Delete"})]})]})]}),Object(G.jsx)(X,{}),Object(G.jsxs)("div",{className:U.content,children:[Object(G.jsx)(B.a,{variant:"h2",children:"Your decks"}),Object(G.jsxs)("div",{className:U.sortAndSearchContainer,children:[Object(G.jsxs)("div",{children:[Object(G.jsx)(F.a,{id:J,children:"Sort by"}),Object(G.jsx)(A.a,{labelId:J,value:"title",children:Object(G.jsx)(L.a,{value:"title",children:"Title"})})]}),Object(G.jsx)(E.a,{label:"Search",value:_,onChange:function(e){return H(e.target.value)}}),Object(G.jsx)(D.a,{color:"primary",variant:"contained",size:"small",component:j.b,to:y.deckAdd,className:U.addButton,children:"Add Deck"})]}),Object(G.jsxs)("div",{className:U.paginationContainer,children:[Object(G.jsx)("div",{className:U.deckList,children:d.map((function(e){var t;return Object(G.jsx)(K,{deckId:null!==(t=e.id)&&void 0!==t?t:"",title:e.title,numberOfCards:e.cards.length,onClick:function(){return R.push("".concat(y.decks,"/").concat(e.id))},onDelete:function(){oe(e),ae(!0)},onEdit:function(){return R.push("".concat(y.decks,"/").concat(e.id,"/edit"))}},e.id)}))}),Object(G.jsx)(P.a,{count:Math.ceil(x/a),page:g,onChange:function(e,t){return m(t)},disabled:W})]})]})]})}var ee,te=n(132),ne=n(181),ce=n(90),ae=null!==(ee="792394819697-o8bra7r13g841c7f41goqu0uj2t3pqpm.apps.googleusercontent.com")?ee:"",re=n(3),ie=Object(U.a)({root:{display:"flex",justifyContent:"center"}});function se(e){var t=e.loading,n=e.children,c=e.className,a=ie();return t?Object(G.jsx)("div",{className:Object(re.a)(a.root,c),children:Object(G.jsx)(ne.a,{})}):Object(G.jsx)(G.Fragment,{children:n})}var oe=Object(U.a)((function(e){return{backDrop:{zIndex:e.zIndex.appBar+1},loginSection:{backgroundColor:e.palette.primary.dark,color:e.palette.primary.contrastText,padding:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center",gap:e.spacing(2)},exampleDecksContainer:{display:"flex",flexDirection:"column",gap:e.spacing(1)},exampleDecksSection:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}}}));function le(){var e=oe(),t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useContext)(d),s=Object(c.useState)(!0),l=Object(o.a)(s,2),u=l[0],j=l[1],h=Object(b.g)(),O=Object(c.useState)([]),x=Object(o.a)(O,2),f=x[0],p=x[1];return Object(c.useEffect)((function(){V.findAll({orderTitleBy:"asc",take:3}).then((function(e){var t=e.decks;return p(t)})).finally((function(){return j(!1)}))}),[]),Object(G.jsxs)("div",{children:[Object(G.jsx)(te.a,{className:e.backDrop,open:a,children:Object(G.jsx)(ne.a,{color:"inherit"})}),Object(G.jsx)(X,{}),Object(G.jsxs)("main",{children:[Object(G.jsxs)("div",{className:e.loginSection,children:[Object(G.jsx)(B.a,{variant:"h1",children:"Log in to create decks."}),Object(G.jsx)(ce.GoogleLogin,{clientId:ae,responseType:"id_token",onRequest:function(){return r(!0)},onSuccess:function(e){k.logIn(e.tokenId).then((function(){return i({loggedIn:!0})})).finally((function(){return r(!1)}))},onFailure:function(){return r(!1)}})]}),Object(G.jsxs)("div",{className:e.exampleDecksSection,children:[Object(G.jsx)(B.a,{variant:"h2",children:"Decks"}),Object(G.jsx)(se,{loading:u,children:Object(G.jsx)("div",{className:e.exampleDecksContainer,children:f.map((function(e){var t,n;return Object(G.jsx)(K,{deckId:null!==(t=e.id)&&void 0!==t?t:"",title:e.title,numberOfCards:e.cards.length,author:null!==(n=e.authorId)&&void 0!==n?n:"",onClick:function(){return h.push("".concat(y.decks,"/").concat(e.id))}},e.id)}))})})]})]})]})}var de=n(189),ue=n(182),je=n(183);function be(e){var t=e.title,n=e.onBack,c=Object(b.g)();return Object(G.jsx)(M.a,{position:"sticky",children:Object(G.jsxs)(R.a,{children:[Object(G.jsx)(ue.a,{edge:"start",color:"inherit",onClick:null!==n&&void 0!==n?n:function(){return c.goBack()},children:Object(G.jsx)(je.a,{})}),Object(G.jsx)(B.a,{variant:"h6",children:t})]})})}var he=n(36),Oe=n(180),xe=n(188),fe="This field is required.",pe=n(184),ve=n(185),ge=n(186),me=n(187),ke=Object(U.a)((function(e){return{textFieldContainer:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:e.spacing(2)},cardContent:{display:"flex",flexDirection:"column",gap:e.spacing(1),margin:e.spacing(2)},actionArea:{display:"flex",justifyContent:"flex-end"}}}));function ye(e){var t=e.cardNumber,n=e.frontText,a=e.backText,r=e.forceValidate,i=e.onFrontTextChange,s=e.onBackTextChange,l=e.onDelete,d=e.onMoveUp,u=e.onMoveDown,j=ke(),b=Object(c.useState)(!1),h=Object(o.a)(b,2),O=h[0],x=h[1],f=n.length>0,p=(r||O)&&!f,v=Object(c.useState)(!1),g=Object(o.a)(v,2),m=g[0],k=g[1],y=a.length>0,C=(r||m)&&!y;return Object(G.jsx)(pe.a,{children:Object(G.jsxs)("div",{className:j.cardContent,children:[Object(G.jsx)(B.a,{variant:"h5",children:"Card ".concat(t)}),Object(G.jsxs)("div",{className:j.textFieldContainer,children:[Object(G.jsx)(E.a,{label:"Term",required:!0,variant:"outlined",multiline:!0,value:n,error:p,helperText:p?fe:void 0,onChange:function(e){x(!0),i(e.target.value)}}),Object(G.jsx)(E.a,{label:"Definition",required:!0,variant:"outlined",multiline:!0,value:a,error:C,helperText:C?fe:void 0,onChange:function(e){k(!0),s(e.target.value)}})]}),Object(G.jsxs)("div",{className:j.actionArea,children:[Object(G.jsx)(ue.a,{onClick:l,disabled:!l,children:Object(G.jsx)(ve.a,{})}),Object(G.jsx)(ue.a,{onClick:d,disabled:!d,children:Object(G.jsx)(ge.a,{})}),Object(G.jsx)(ue.a,{onClick:u,disabled:!u,children:Object(G.jsx)(me.a,{})})]})]})})}var Ce=Object(U.a)((function(e){return{form:{display:"flex",flexDirection:"column",gap:e.spacing(3),marginTop:e.spacing(3),marginBottom:e.spacing(3)},generalInfoContainer:{display:"flex",flexDirection:"column",gap:e.spacing(2)},cardList:{display:"flex",flexDirection:"column",gap:e.spacing(2)},saveButtonContainer:{display:"flex",justifyContent:"flex-end"}}}));function Se(e){var t=e.title,n=e.description,a=e.visibility,r=e.cards,i=e.onTitleChange,l=e.onDescriptionChange,d=e.onChangeVisibility,u=e.onCardsChange,j=e.onSubmit,b=Ce(),h=z(),O=Object(c.useState)(!1),x=Object(o.a)(O,2),f=x[0],p=x[1],v=Object(c.useState)(!1),g=Object(o.a)(v,2),m=g[0],k=g[1],y=(m||f)&&0===t.length,C=function(e,t,n){var c=Object(he.a)(r),a=Object(s.a)({},r[e]);a.sides[t].text=n,c[e]=a,u(c)},S=function(e,t){var n=Object(he.a)(r);n.splice(t,0,n.splice(e,1)[0]),u(n)};return Object(G.jsxs)("form",{noValidate:!0,className:b.form,onSubmit:function(e){e.preventDefault(),0===t.length||r.some((function(e){return e.sides.some((function(e){return 0===e.text.length}))}))?k(!0):j()},children:[Object(G.jsxs)("div",{className:b.generalInfoContainer,children:[Object(G.jsx)(Oe.a,{children:Object(G.jsx)(E.a,{required:!0,variant:"outlined",label:"Title",fullWidth:!0,error:y,helperText:y?fe:void 0,value:t,onChange:function(e){p(!0),i(e.target.value)}})}),Object(G.jsx)(Oe.a,{children:Object(G.jsx)(E.a,{variant:"outlined",label:"Description",fullWidth:!0,value:n,onChange:function(e){return l(e.target.value)}})}),Object(G.jsxs)(Oe.a,{children:[Object(G.jsx)(F.a,{id:h,children:"Visibility"}),Object(G.jsxs)(A.a,{labelId:h,variant:"outlined",value:a,onChange:function(e){return d(e.target.value)},children:[Object(G.jsx)(L.a,{value:"PRIVATE",children:"Private"}),Object(G.jsx)(L.a,{value:"PUBLIC",children:"Public"})]})]})]}),Object(G.jsx)("div",{className:b.cardList,children:r.map((function(e,t){var n=Object(o.a)(e.sides,2),c=n[0].text,a=n[1].text;return Object(G.jsx)(ye,{forceValidate:m,cardNumber:t+1,frontText:c,backText:a,onFrontTextChange:function(e){return C(t,0,e)},onBackTextChange:function(e){return C(t,1,e)},onDelete:r.length>1?function(){return e=t,void u([].concat(Object(he.a)(r.slice(0,e)),Object(he.a)(r.slice(e+1))));var e}:void 0,onMoveUp:0!==t?function(){return S(t,t-1)}:void 0,onMoveDown:t!==r.length-1?function(){return S(t,t+1)}:void 0},t)}))}),Object(G.jsx)(D.a,{variant:"outlined",fullWidth:!0,startIcon:Object(G.jsx)(xe.a,{}),onClick:function(){u([].concat(Object(he.a)(r),[{sides:[{text:""},{text:""}]}]))},children:"Add card"}),Object(G.jsx)("div",{className:b.saveButtonContainer,children:Object(G.jsx)(D.a,{type:"submit",variant:"contained",color:"primary",children:"Save"})})]})}var Te=Object(U.a)((function(e){return{backdrop:{zIndex:e.zIndex.appBar+1}}}));function Ie(){var e=Te(),t=Object(c.useState)(""),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(""),s=Object(o.a)(i,2),l=s[0],d=s[1],u=Object(c.useState)("PRIVATE"),j=Object(o.a)(u,2),h=j[0],O=j[1],x=Object(c.useState)([{sides:[{text:""},{text:""}]}]),f=Object(o.a)(x,2),p=f[0],v=f[1],g=Object(c.useState)(!1),m=Object(o.a)(g,2),k=m[0],y=m[1],C=Object(b.g)();return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(te.a,{open:k,className:e.backdrop,children:Object(G.jsx)(ne.a,{color:"inherit"})}),Object(G.jsx)(be,{title:"Add deck"}),Object(G.jsx)(de.a,{children:Object(G.jsx)(Se,{title:a,description:l,visibility:h,cards:p,onTitleChange:r,onDescriptionChange:d,onChangeVisibility:O,onCardsChange:v,onSubmit:function(){y(!0),V.create({title:a,description:l,visibility:h,cards:p,tags:[]}).then((function(){return C.goBack()})).catch((function(){y(!1)}))}})})]})}var Ne=n(200),we=n(201),De=n(190),Be=Object(U.a)((function(e){return{root:{display:"grid",gridTemplateColumns:"2fr auto 3fr",columnGap:e.spacing(2),gap:e.spacing(3)}}}));function Fe(e){var t=e.cards,n=Be();return Object(G.jsx)("div",{className:n.root,children:t.map((function(e){var t;return Object(G.jsxs)(a.a.Fragment,{children:[Object(G.jsx)(B.a,{children:e.sides[0].text}),Object(G.jsx)(De.a,{orientation:"vertical"}),Object(G.jsx)(B.a,{children:e.sides[1].text})]},null!==(t=e.id)&&void 0!==t?t:JSON.stringify(e))}))})}var Ae=n(191),Le=Object(U.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center"},content:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",padding:e.spacing(3)},typography:{fontSize:e.typography.h5.fontSize}}}));function Ee(e){var t=e.text,n=e.className,c=Le();return Object(G.jsx)(pe.a,{className:Object(re.a)(c.root,n),children:Object(G.jsx)(Ae.a,{className:c.content,children:Object(G.jsx)(B.a,{className:c.typography,children:t})})})}var Pe=Object(U.a)({root:{display:"grid",gridTemplateAreas:'"main"',transformStyle:"preserve-3d"},cardFlipTransition:{transition:"transform 0.3s"},flip:{transform:"rotateX(180deg)"},cardSide:{gridArea:"main",backfaceVisibility:"hidden"},cardBack:{transform:"rotateX(180deg)"}});function qe(e){var t=e.frontText,n=e.backText,c=e.showBack,a=e.className,r=e.onFlip,i=Pe();return Object(G.jsxs)("div",{className:Object(re.a)(i.root,i.cardFlipTransition,c&&i.flip,a),onClick:r,children:[Object(G.jsx)(Ee,{className:i.cardSide,text:t}),Object(G.jsx)(Ee,{className:Object(re.a)(i.cardSide,i.cardBack),text:n})]})}var ze=Object(U.a)({card:{height:"100%",width:"100%"},hiddenCard:{display:"none"}});function Ve(e){var t=e.cards,n=e.activeIndex,a=e.showCardBack,r=e.className,i=e.onFlipCard,s=t[n],l=ze(),d=Object(c.useState)(!1),u=Object(o.a)(d,2),j=u[0],b=u[1];return Object(c.useLayoutEffect)((function(){b(!0)}),[n]),Object(c.useLayoutEffect)((function(){j&&b(!1)}),[j]),s?Object(G.jsx)("div",{className:r,children:!j&&Object(G.jsx)(qe,{className:l.card,frontText:s.sides[0].text,backText:s.sides[1].text,showBack:a,onFlip:i})}):Object(G.jsx)("div",{className:r,children:!j&&Object(G.jsx)(qe,{className:l.card,frontText:"",backText:"",showBack:!1,onFlip:function(){}})})}var We=n(192),Me=Object(U.a)({root:{display:"flex",alignItems:"center"},positionIndicator:{width:"10ch"}});function Re(e){var t=e.currentIndex,n=e.numberOfCards,c=e.onBack,a=e.onForward,r=Me();return Object(G.jsxs)("div",{className:r.root,children:[Object(G.jsx)(ue.a,{onClick:c,disabled:0===t||0===n,children:Object(G.jsx)(je.a,{})}),Object(G.jsx)("div",{children:Object(G.jsx)(B.a,{variant:"subtitle2",align:"center",className:r.positionIndicator,children:"".concat(n>0?t+1:0,"/").concat(n)})}),Object(G.jsx)(ue.a,{onClick:a,disabled:t===n-1||0===n,children:Object(G.jsx)(We.a,{})})]})}var Ue=Object(U.a)((function(e){return{root:{display:"flex",flexDirection:"column",gap:e.spacing(2),margin:e.spacing(3)},deckStack:{height:280,width:"100%",maxWidth:397},deckStackContainer:{display:"flex",flexDirection:"column",alignItems:"center"},section:{display:"flex",flexDirection:"column",gap:e.spacing(1)},progressBar:{width:"100%",maxWidth:400},tagList:{display:"flex",flexWrap:"wrap",gap:e.spacing(.5)}}}));function Je(){var e=Ue(),t=Object(c.useState)(0),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),s=Object(o.a)(i,2),l=s[0],d=s[1],u=Object(b.h)().id,j=Object(c.useState)(!0),h=Object(o.a)(j,2),O=h[0],x=h[1],f=Object(c.useState)(null),p=Object(o.a)(f,2),v=p[0],g=p[1];Object(c.useEffect)((function(){x(!0),V.findOne(u).then((function(e){return g(e)})).finally((function(){return x(!1)}))}),[u]),Object(c.useLayoutEffect)((function(){d(!1)}),[a]);var m=Object(c.useMemo)((function(){return(null===v||void 0===v?void 0:v.tags)?Object(he.a)(v.tags).sort():[]}),[null===v||void 0===v?void 0:v.tags]);return Object(G.jsxs)("div",{children:[Object(G.jsx)(X,{}),Object(G.jsx)("div",{className:e.root,children:Object(G.jsx)(se,{loading:O,children:v&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)("section",{className:e.section,children:[Object(G.jsxs)("div",{children:[Object(G.jsx)(B.a,{variant:"h4",children:v.title}),Object(G.jsxs)(B.a,{variant:"subtitle1",children:["by"," ",Object(G.jsx)(_,{to:"/users/".concat(v.authorId),color:"inherit",children:v.authorId})]})]}),Object(G.jsxs)("div",{className:e.deckStackContainer,children:[Object(G.jsx)(Ve,{className:e.deckStack,cards:v.cards,activeIndex:a,showCardBack:l,onFlipCard:function(){return d((function(e){return!e}))}}),Object(G.jsx)(Re,{currentIndex:a,numberOfCards:v.cards.length,onBack:function(){r((function(e){return e-1}))},onForward:function(){r((function(e){return e+1}))}}),Object(G.jsx)(Ne.a,{className:e.progressBar,value:a,max:v.cards.length-1,valueLabelFormat:function(e){return e+1},onChange:function(e,t){return r(t)}})]})]}),Object(G.jsxs)("section",{className:e.section,children:[Object(G.jsx)(B.a,{variant:"h5",children:"Tags"}),Object(G.jsx)("div",{className:e.tagList,children:m.map((function(e){return Object(G.jsx)(we.a,{label:e,variant:"outlined"},e)}))})]}),Object(G.jsxs)("section",{className:e.section,children:[Object(G.jsx)(B.a,{variant:"h5",children:"Terms"}),Object(G.jsx)(Fe,{cards:v.cards})]})]})})})]})}function Ge(e){var t=e.isAuthenticated;return Object(G.jsx)(j.a,{children:Object(G.jsxs)(b.d,{children:[Object(G.jsx)(b.b,{exact:!0,path:y.home,children:t?Object(G.jsx)(b.a,{to:y.dashboard}):Object(G.jsx)(le,{})}),Object(G.jsx)(b.b,{path:y.dashboard,children:Object(G.jsx)(Z,{userId:k.getCurrentUser()})}),Object(G.jsx)(b.b,{exact:!0,path:"".concat(y.decks,"/:id"),children:Object(G.jsx)(Je,{})}),Object(G.jsx)(b.b,{path:"".concat(y.decks,"/:id/edit"),children:Object(G.jsx)(Ie,{})}),Object(G.jsx)(b.b,{path:y.deckAdd,children:Object(G.jsx)(Ie,{})})]})})}function Xe(){var e,t=Object(c.useState)({loggedIn:new Date(1e3*JSON.parse(null!==(e=localStorage.getItem("accessTokenPayload"))&&void 0!==e?e:'{"exp": 0}').exp)>new Date}),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(l.a,{}),Object(G.jsx)(u.Provider,{value:a,children:Object(G.jsx)(d.Provider,{value:function(e){r((function(t){return Object(s.a)(Object(s.a)({},t),e)}))},children:Object(G.jsx)(Ge,{isAuthenticated:a.loggedIn})})})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,202)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(G.jsx)(c.StrictMode,{children:Object(G.jsx)(Xe,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),Ye()}},[[131,1,2]]]);
//# sourceMappingURL=main.483cdb37.chunk.js.map
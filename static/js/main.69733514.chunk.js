(this["webpackJsonpbasic-flashcards-react"]=this["webpackJsonpbasic-flashcards-react"]||[]).push([[0],{106:function(e,t,n){},132:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(14),i=n.n(r),s=(n(106),n(40)),o=n(9),l=n(195),d=Object(c.createContext)((function(){})),u=Object(c.createContext)({loggedIn:!1}),j=n(31),b=n(12),h=n(20),x=n.n(h),O=n(32),f=n(58),p=n(59),v=n(86),g=n.n(v).a.create({baseURL:"https://basic-flashcards.herokuapp.com",withCredentials:!0});g.interceptors.request.use((function(e){var t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}));var m=g,k=new(function(){function e(t){Object(f.a)(this,e),this.http=t}return Object(p.a)(e,[{key:"logIn",value:function(){var e=Object(O.a)(x.a.mark((function e(t){var n,c,a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.post("/auth/access-tokens",{idToken:t});case 2:return n=e.sent,c=n.data,a=c.accessToken,r=c.decodedAccessToken,localStorage.setItem("accessToken",a),localStorage.setItem("accessTokenPayload",JSON.stringify(r)),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){var e=Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("accessToken"),localStorage.removeItem("accessTokenPayload");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"verifyAccessToken",value:function(){var e=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.http.get("/auth/access-tokens/".concat(t));case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentUser",value:function(){var e=localStorage.getItem("accessTokenPayload");return e?JSON.parse(e).sub:null}}]),e}())(m),y={home:"/",dashboard:"/dashboard",decks:"/decks",deckSearch:"/search-decks",deckAdd:"/add-deck"},C=n(27),S=n(174),T=n(175),N=n(176),I=n(177),w=n(178),D=n(172),B=n(72),F=n(198),A=n(196),L=n(200),E=n(201),P=n(182),q=n(183),V=n(197);var z=n(167);var W=0;function M(){return Object(c.useRef)("unique-id-".concat(W++)).current}var R=new(function(){function e(t){Object(f.a)(this,e),this.http=t}return Object(p.a)(e,[{key:"create",value:function(){var e=Object(O.a)(x.a.mark((function e(t){var n,c,a,r,i,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,c=t.description,a=t.visibility,r=t.cards,e.next=3,this.http.post("/decks",{authorId:k.getCurrentUser(),title:n,description:c,visibility:a,cards:r.map((function(e){var t=Object(o.a)(e.sides,2);return{frontText:t[0].text,backText:t[1].text}}))});case 3:return i=e.sent,s=i.data,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findOne",value:function(){var e=Object(O.a)(x.a.mark((function e(t){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.get("/decks/".concat(t));case 2:return n=e.sent,c=n.data,e.abrupt("return",U(c));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findAll",value:function(){var e=Object(O.a)(x.a.mark((function e(t){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.get("/decks",{params:t});case 2:return n=e.sent,c=n.data,e.abrupt("return",{decks:c.decks.map(U),count:c.count});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.http.delete("/decks/".concat(t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())(m);function U(e){return{id:e.id,authorId:e.authorId,title:e.title,description:e.description,visibility:e.visibility,cards:e.cards.map((function(e){return{sides:[{text:e.frontText},{text:e.backText}]}})),tags:[]}}var J=n(170),G=n(171),X=n(168),Y=Object(X.a)({homeLink:{textTransform:"none"}}),$=n(2);function _(){var e=Y();return Object($.jsx)(J.a,{position:"sticky",children:Object($.jsx)(G.a,{children:Object($.jsx)(D.a,{color:"inherit",component:j.b,to:y.home,className:e.homeLink,children:Object($.jsx)(B.a,{variant:"h6",children:"Basic Flashcards"})})})})}var H=n(71),K=n(173);function Q(e){var t=e.to,n=e.color,c=e.children;return Object($.jsx)(K.a,{component:j.b,to:t,color:n,children:c})}var Z=Object(X.a)((function(e){return{root:{cursor:"pointer",padding:e.spacing(2),"&:hover":{backgroundColor:e.palette.grey[50]}},title:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},buttonBox:{display:"flex",justifyContent:"flex-end"}}}));function ee(e){var t=e.title,n=(e.deckId,e.numberOfCards),c=e.author,a=e.onClick,r=e.onDelete,i=e.onExport,s=e.onEdit,o=Z();return Object($.jsxs)(H.a,{className:o.root,onClick:a,children:[Object($.jsx)(B.a,{className:o.title,variant:"h5",children:t}),Object($.jsx)(B.a,{children:"".concat(n," cards")}),c&&Object($.jsxs)(B.a,{children:["By ",Object($.jsx)(Q,{to:"/users/".concat(c),children:c})]}),(r||i||s)&&Object($.jsxs)("div",{className:o.buttonBox,children:[r&&Object($.jsx)(D.a,{color:"secondary",onClick:function(e){e.stopPropagation(),r()},children:"Delete"}),i&&Object($.jsx)(D.a,{onClick:function(e){e.stopPropagation(),i()},children:"Export"}),s&&Object($.jsx)(D.a,{color:"primary",onClick:function(e){e.stopPropagation(),s()},children:"Edit"})]})]})}var te=Object(X.a)((function(e){return{content:{display:"flex",flexDirection:"column",gap:e.spacing(2),padding:e.spacing(3)},paginationContainer:{display:"flex",flexDirection:"column",gap:e.spacing(2)},paginationControls:{display:"flex",justifyContent:"center"},deckList:{display:"flex",flexDirection:"column",gap:e.spacing(1)},sortAndSearchContainer:{display:"flex",gap:e.spacing(2)},addButton:{marginLeft:"auto"},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}}));function ne(e){var t=e.userId,n=e.pageSize,a=void 0===n?10:n,r=Object(C.a)(),i=function(){var e=Object(C.a)();return Object(z.a)(e.breakpoints.down("xs"))}(),l=Object(c.useState)([]),d=Object(o.a)(l,2),u=d[0],h=d[1],x=Object(c.useState)(0),O=Object(o.a)(x,2),f=O[0],p=O[1],v=Object(c.useState)(1),g=Object(o.a)(v,2),m=g[0],k=g[1],W=Object(c.useState)(!1),U=Object(o.a)(W,2),J=U[0],G=U[1],X=Object(b.g)(),Y=te(),H=M(),K=Object(c.useState)(""),Q=Object(o.a)(K,2),Z=Q[0],ne=Q[1],ce=function(e,t){var n=Object(c.useState)(e),a=Object(o.a)(n,2),r=a[0],i=a[1],s=Object(c.useRef)(Date.now());return Object(c.useEffect)((function(){var n=setTimeout((function(){i(e),s.current=Date.now()}),t-(Date.now()-s.current));return function(){return clearTimeout(n)}}),[e,t]),r}(Z,r.transitions.duration.short),ae=function(e){G(!0),R.findAll(Object(s.a)({},e)).then((function(e){h(e.decks),p(e.count)})).finally((function(){return G(!1)}))};Object(c.useEffect)((function(){ae({authorId:[t],orderTitleBy:"asc",take:a,skip:(m-1)*a,caseInsensitive:!0,titleContains:ce||void 0})}),[m,a,ce,t]);var re=Object(c.useState)(!1),ie=Object(o.a)(re,2),se=ie[0],oe=ie[1],le=Object(c.useState)(null),de=Object(o.a)(le,2),ue=de[0],je=de[1];return Object($.jsxs)("div",{children:[Object($.jsxs)(S.a,{open:se,onBackdropClick:function(){return oe(!1)},onExited:function(){return je(null)},children:[Object($.jsx)(T.a,{children:"Delete deck?"}),Object($.jsxs)(N.a,{children:[Object($.jsxs)(I.a,{children:['Are you sure you want to delete deck "',null===ue||void 0===ue?void 0:ue.title,'"? This action cannot be undone.']}),Object($.jsxs)(w.a,{children:[Object($.jsx)(D.a,{color:"primary",autoFocus:!0,onClick:function(){oe(!1)},children:"Cancel"}),Object($.jsx)(D.a,{color:"primary",onClick:function(){var e;R.remove(null!==(e=null===ue||void 0===ue?void 0:ue.id)&&void 0!==e?e:"").then((function(){return ae({authorId:[t],orderTitleBy:"asc",take:a,skip:(m-1)*a,caseInsensitive:!0,titleContains:ce||void 0})})).finally((function(){return oe(!1)}))},children:"Delete"})]})]})]}),Object($.jsx)(_,{}),Object($.jsxs)("div",{className:Y.content,children:[Object($.jsx)(B.a,{variant:"h2",children:"Your decks"}),Object($.jsxs)("div",{className:Y.sortAndSearchContainer,children:[Object($.jsxs)("div",{children:[Object($.jsx)(F.a,{id:H,children:"Sort by"}),Object($.jsx)(A.a,{labelId:H,value:"title",children:Object($.jsx)(L.a,{value:"title",children:"Title"})})]}),Object($.jsx)(E.a,{label:"Search",value:Z,onChange:function(e){return ne(e.target.value)}}),!i&&Object($.jsx)(D.a,{color:"primary",variant:"contained",component:j.b,to:y.deckAdd,className:Y.addButton,children:"Add Deck"})]}),Object($.jsxs)("div",{className:Y.paginationContainer,children:[Object($.jsx)("div",{className:Y.deckList,children:u.map((function(e){var t;return Object($.jsx)(ee,{deckId:null!==(t=e.id)&&void 0!==t?t:"",title:e.title,numberOfCards:e.cards.length,onClick:function(){return X.push("".concat(y.decks,"/").concat(e.id))},onDelete:function(){je(e),oe(!0)},onEdit:function(){return X.push("".concat(y.decks,"/").concat(e.id,"/edit"))}},e.id)}))}),u.length>0&&Object($.jsx)("div",{className:Y.paginationControls,children:Object($.jsx)(V.a,{count:Math.ceil(f/a),page:m,onChange:function(e,t){return k(t)},disabled:J})})]}),i&&Object($.jsx)(P.a,{className:Y.fab,color:"primary",component:j.b,to:y.deckAdd,children:Object($.jsx)(q.a,{})})]})]})}var ce,ae=n(134),re=n(184),ie=n(91),se=null!==(ce="792394819697-o8bra7r13g841c7f41goqu0uj2t3pqpm.apps.googleusercontent.com")?ce:"",oe=n(3),le=Object(X.a)({root:{display:"flex",justifyContent:"center"}});function de(e){var t=e.loading,n=e.children,c=e.className,a=le();return t?Object($.jsx)("div",{className:Object(oe.a)(a.root,c),children:Object($.jsx)(re.a,{})}):Object($.jsx)($.Fragment,{children:n})}var ue=Object(X.a)((function(e){return{backDrop:{zIndex:e.zIndex.appBar+1},loginSection:{backgroundColor:e.palette.primary.dark,color:e.palette.primary.contrastText,padding:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center",gap:e.spacing(2)},exampleDecksContainer:{display:"flex",flexDirection:"column",gap:e.spacing(1)},exampleDecksSection:{marginLeft:e.spacing(2),marginRight:e.spacing(2),paddingBottom:e.spacing(3)}}}));function je(){var e=ue(),t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useContext)(d),s=Object(c.useState)(!0),l=Object(o.a)(s,2),u=l[0],j=l[1],h=Object(b.g)(),x=Object(c.useState)([]),O=Object(o.a)(x,2),f=O[0],p=O[1];return Object(c.useEffect)((function(){R.findAll({orderTitleBy:"asc",take:3}).then((function(e){var t=e.decks;return p(t)})).finally((function(){return j(!1)}))}),[]),Object($.jsxs)("div",{children:[Object($.jsx)(ae.a,{className:e.backDrop,open:a,children:Object($.jsx)(re.a,{color:"inherit"})}),Object($.jsx)(_,{}),Object($.jsxs)("main",{children:[Object($.jsxs)("div",{className:e.loginSection,children:[Object($.jsx)(B.a,{variant:"h1",children:"Log in to create decks."}),Object($.jsx)(ie.GoogleLogin,{clientId:se,responseType:"id_token",onRequest:function(){return r(!0)},onSuccess:function(e){k.logIn(e.tokenId).then((function(){return i({loggedIn:!0})})).finally((function(){return r(!1)}))},onFailure:function(){return r(!1)}})]}),Object($.jsxs)("div",{className:e.exampleDecksSection,children:[Object($.jsx)(B.a,{variant:"h2",children:"Decks"}),Object($.jsx)(de,{loading:u,children:Object($.jsx)("div",{className:e.exampleDecksContainer,children:f.map((function(e){var t,n;return Object($.jsx)(ee,{deckId:null!==(t=e.id)&&void 0!==t?t:"",title:e.title,numberOfCards:e.cards.length,author:null!==(n=e.authorId)&&void 0!==n?n:"",onClick:function(){return h.push("".concat(y.decks,"/").concat(e.id))}},e.id)}))})})]})]})]})}var be=n(191),he=n(185),xe=n(186);function Oe(e){var t=e.title,n=e.onBack,c=Object(b.g)();return Object($.jsx)(J.a,{position:"sticky",children:Object($.jsxs)(G.a,{children:[Object($.jsx)(he.a,{edge:"start",color:"inherit",onClick:null!==n&&void 0!==n?n:function(){return c.goBack()},children:Object($.jsx)(xe.a,{})}),Object($.jsx)(B.a,{variant:"h6",children:t})]})})}var fe=n(36),pe=n(181),ve="This field is required.",ge=n(187),me=n(188),ke=n(189),ye=n(190),Ce=Object(X.a)((function(e){return{textFieldContainer:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:e.spacing(2)},cardContent:{display:"flex",flexDirection:"column",gap:e.spacing(1),margin:e.spacing(2)},actionArea:{display:"flex",justifyContent:"flex-end"}}}));function Se(e){var t=e.cardNumber,n=e.frontText,a=e.backText,r=e.forceValidate,i=e.onFrontTextChange,s=e.onBackTextChange,l=e.onDelete,d=e.onMoveUp,u=e.onMoveDown,j=Ce(),b=Object(c.useState)(!1),h=Object(o.a)(b,2),x=h[0],O=h[1],f=n.length>0,p=(r||x)&&!f,v=Object(c.useState)(!1),g=Object(o.a)(v,2),m=g[0],k=g[1],y=a.length>0,C=(r||m)&&!y;return Object($.jsx)(ge.a,{children:Object($.jsxs)("div",{className:j.cardContent,children:[Object($.jsx)(B.a,{variant:"h5",children:"Card ".concat(t)}),Object($.jsxs)("div",{className:j.textFieldContainer,children:[Object($.jsx)(E.a,{label:"Term",required:!0,variant:"outlined",multiline:!0,value:n,error:p,helperText:p?ve:void 0,onChange:function(e){O(!0),i(e.target.value)}}),Object($.jsx)(E.a,{label:"Definition",required:!0,variant:"outlined",multiline:!0,value:a,error:C,helperText:C?ve:void 0,onChange:function(e){k(!0),s(e.target.value)}})]}),Object($.jsxs)("div",{className:j.actionArea,children:[Object($.jsx)(he.a,{onClick:l,disabled:!l,children:Object($.jsx)(me.a,{})}),Object($.jsx)(he.a,{onClick:d,disabled:!d,children:Object($.jsx)(ke.a,{})}),Object($.jsx)(he.a,{onClick:u,disabled:!u,children:Object($.jsx)(ye.a,{})})]})]})})}var Te=Object(X.a)((function(e){return{form:{display:"flex",flexDirection:"column",gap:e.spacing(3),marginTop:e.spacing(3),marginBottom:e.spacing(3)},generalInfoContainer:{display:"flex",flexDirection:"column",gap:e.spacing(2)},cardList:{display:"flex",flexDirection:"column",gap:e.spacing(2)},saveButtonContainer:{display:"flex",justifyContent:"flex-end"}}}));function Ne(e){var t=e.title,n=e.description,a=e.visibility,r=e.cards,i=e.onTitleChange,l=e.onDescriptionChange,d=e.onChangeVisibility,u=e.onCardsChange,j=e.onSubmit,b=Te(),h=M(),x=Object(c.useState)(!1),O=Object(o.a)(x,2),f=O[0],p=O[1],v=Object(c.useState)(!1),g=Object(o.a)(v,2),m=g[0],k=g[1],y=(m||f)&&0===t.length,C=function(e,t,n){var c=Object(fe.a)(r),a=Object(s.a)({},r[e]);a.sides[t].text=n,c[e]=a,u(c)},S=function(e,t){var n=Object(fe.a)(r);n.splice(t,0,n.splice(e,1)[0]),u(n)};return Object($.jsxs)("form",{noValidate:!0,className:b.form,onSubmit:function(e){e.preventDefault(),0===t.length||r.some((function(e){return e.sides.some((function(e){return 0===e.text.length}))}))?k(!0):j()},children:[Object($.jsxs)("div",{className:b.generalInfoContainer,children:[Object($.jsx)(pe.a,{children:Object($.jsx)(E.a,{required:!0,variant:"outlined",label:"Title",fullWidth:!0,error:y,helperText:y?ve:void 0,value:t,onChange:function(e){p(!0),i(e.target.value)}})}),Object($.jsx)(pe.a,{children:Object($.jsx)(E.a,{variant:"outlined",label:"Description",fullWidth:!0,value:n,onChange:function(e){return l(e.target.value)}})}),Object($.jsxs)(pe.a,{children:[Object($.jsx)(F.a,{id:h,children:"Visibility"}),Object($.jsxs)(A.a,{labelId:h,variant:"outlined",value:a,onChange:function(e){return d(e.target.value)},children:[Object($.jsx)(L.a,{value:"PRIVATE",children:"Private"}),Object($.jsx)(L.a,{value:"PUBLIC",children:"Public"})]})]})]}),Object($.jsx)("div",{className:b.cardList,children:r.map((function(e,t){var n=Object(o.a)(e.sides,2),c=n[0].text,a=n[1].text;return Object($.jsx)(Se,{forceValidate:m,cardNumber:t+1,frontText:c,backText:a,onFrontTextChange:function(e){return C(t,0,e)},onBackTextChange:function(e){return C(t,1,e)},onDelete:r.length>1?function(){return e=t,void u([].concat(Object(fe.a)(r.slice(0,e)),Object(fe.a)(r.slice(e+1))));var e}:void 0,onMoveUp:0!==t?function(){return S(t,t-1)}:void 0,onMoveDown:t!==r.length-1?function(){return S(t,t+1)}:void 0},t)}))}),Object($.jsx)(D.a,{variant:"outlined",fullWidth:!0,startIcon:Object($.jsx)(q.a,{}),onClick:function(){u([].concat(Object(fe.a)(r),[{sides:[{text:""},{text:""}]}]))},children:"Add card"}),Object($.jsx)("div",{className:b.saveButtonContainer,children:Object($.jsx)(D.a,{type:"submit",variant:"contained",color:"primary",children:"Save"})})]})}var Ie=Object(X.a)((function(e){return{backdrop:{zIndex:e.zIndex.appBar+1}}}));function we(){var e=Ie(),t=Object(c.useState)(""),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(""),s=Object(o.a)(i,2),l=s[0],d=s[1],u=Object(c.useState)("PRIVATE"),j=Object(o.a)(u,2),h=j[0],x=j[1],O=Object(c.useState)([{sides:[{text:""},{text:""}]}]),f=Object(o.a)(O,2),p=f[0],v=f[1],g=Object(c.useState)(!1),m=Object(o.a)(g,2),k=m[0],y=m[1],C=Object(b.g)();return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ae.a,{open:k,className:e.backdrop,children:Object($.jsx)(re.a,{color:"inherit"})}),Object($.jsx)(Oe,{title:"Add deck"}),Object($.jsx)(be.a,{children:Object($.jsx)(Ne,{title:a,description:l,visibility:h,cards:p,onTitleChange:r,onDescriptionChange:d,onChangeVisibility:x,onCardsChange:v,onSubmit:function(){y(!0),R.create({title:a,description:l,visibility:h,cards:p,tags:[]}).then((function(){return C.goBack()})).catch((function(){y(!1)}))}})})]})}var De=n(202),Be=n(203),Fe=n(192),Ae=Object(X.a)((function(e){return{root:{display:"grid",gridTemplateColumns:"2fr auto 3fr",columnGap:e.spacing(2),gap:e.spacing(3)}}}));function Le(e){var t=e.cards,n=Ae();return Object($.jsx)("div",{className:n.root,children:t.map((function(e){var t;return Object($.jsxs)(a.a.Fragment,{children:[Object($.jsx)(B.a,{children:e.sides[0].text}),Object($.jsx)(Fe.a,{orientation:"vertical"}),Object($.jsx)(B.a,{children:e.sides[1].text})]},null!==(t=e.id)&&void 0!==t?t:JSON.stringify(e))}))})}var Ee=n(193),Pe=Object(X.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center"},content:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",padding:e.spacing(3)},typography:{fontSize:e.typography.h5.fontSize}}}));function qe(e){var t=e.text,n=e.className,c=Pe();return Object($.jsx)(ge.a,{className:Object(oe.a)(c.root,n),children:Object($.jsx)(Ee.a,{className:c.content,children:Object($.jsx)(B.a,{className:c.typography,children:t})})})}var Ve=Object(X.a)({root:{display:"grid",gridTemplateAreas:'"main"',transformStyle:"preserve-3d"},cardFlipTransition:{transition:"transform 0.3s"},flip:{transform:"rotateX(180deg)"},cardSide:{gridArea:"main",backfaceVisibility:"hidden"},cardBack:{transform:"rotateX(180deg)"}});function ze(e){var t=e.frontText,n=e.backText,c=e.showBack,a=e.className,r=e.onFlip,i=Ve();return Object($.jsxs)("div",{className:Object(oe.a)(i.root,i.cardFlipTransition,c&&i.flip,a),onClick:r,children:[Object($.jsx)(qe,{className:i.cardSide,text:t}),Object($.jsx)(qe,{className:Object(oe.a)(i.cardSide,i.cardBack),text:n})]})}var We=Object(X.a)({card:{height:"100%",width:"100%"},hiddenCard:{display:"none"}});function Me(e){var t=e.cards,n=e.activeIndex,a=e.showCardBack,r=e.className,i=e.onFlipCard,s=t[n],l=We(),d=Object(c.useState)(!1),u=Object(o.a)(d,2),j=u[0],b=u[1];return Object(c.useLayoutEffect)((function(){b(!0)}),[n]),Object(c.useLayoutEffect)((function(){j&&b(!1)}),[j]),s?Object($.jsx)("div",{className:r,children:!j&&Object($.jsx)(ze,{className:l.card,frontText:s.sides[0].text,backText:s.sides[1].text,showBack:a,onFlip:i})}):Object($.jsx)("div",{className:r,children:!j&&Object($.jsx)(ze,{className:l.card,frontText:"",backText:"",showBack:!1,onFlip:function(){}})})}var Re=n(194),Ue=Object(X.a)({root:{display:"flex",alignItems:"center"},positionIndicator:{width:"10ch"}});function Je(e){var t=e.currentIndex,n=e.numberOfCards,c=e.onBack,a=e.onForward,r=Ue();return Object($.jsxs)("div",{className:r.root,children:[Object($.jsx)(he.a,{onClick:c,disabled:0===t||0===n,children:Object($.jsx)(xe.a,{})}),Object($.jsx)("div",{children:Object($.jsx)(B.a,{variant:"subtitle2",align:"center",className:r.positionIndicator,children:"".concat(n>0?t+1:0,"/").concat(n)})}),Object($.jsx)(he.a,{onClick:a,disabled:t===n-1||0===n,children:Object($.jsx)(Re.a,{})})]})}var Ge=Object(X.a)((function(e){return{root:{display:"flex",flexDirection:"column",gap:e.spacing(2),padding:e.spacing(3)},deckStack:{height:280,width:"100%",maxWidth:397},deckStackContainer:{display:"flex",flexDirection:"column",alignItems:"center"},section:{display:"flex",flexDirection:"column",gap:e.spacing(1)},progressBar:{width:"100%",maxWidth:400},tagList:{display:"flex",flexWrap:"wrap",gap:e.spacing(.5)}}}));function Xe(){var e=Ge(),t=Object(c.useState)(0),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),s=Object(o.a)(i,2),l=s[0],d=s[1],u=Object(b.h)().id,j=Object(c.useState)(!0),h=Object(o.a)(j,2),x=h[0],O=h[1],f=Object(c.useState)(null),p=Object(o.a)(f,2),v=p[0],g=p[1];Object(c.useEffect)((function(){O(!0),R.findOne(u).then((function(e){return g(e)})).finally((function(){return O(!1)}))}),[u]),Object(c.useLayoutEffect)((function(){d(!1)}),[a]);var m=Object(c.useMemo)((function(){return(null===v||void 0===v?void 0:v.tags)?Object(fe.a)(v.tags).sort():[]}),[null===v||void 0===v?void 0:v.tags]);return Object($.jsxs)("div",{children:[Object($.jsx)(_,{}),Object($.jsx)("div",{className:e.root,children:Object($.jsx)(de,{loading:x,children:v&&Object($.jsxs)($.Fragment,{children:[Object($.jsxs)("section",{className:e.section,children:[Object($.jsxs)("div",{children:[Object($.jsx)(B.a,{variant:"h4",children:v.title}),Object($.jsxs)(B.a,{variant:"subtitle1",children:["by"," ",Object($.jsx)(Q,{to:"/users/".concat(v.authorId),color:"inherit",children:v.authorId})]})]}),Object($.jsxs)("div",{className:e.deckStackContainer,children:[Object($.jsx)(Me,{className:e.deckStack,cards:v.cards,activeIndex:a,showCardBack:l,onFlipCard:function(){return d((function(e){return!e}))}}),Object($.jsx)(Je,{currentIndex:a,numberOfCards:v.cards.length,onBack:function(){r((function(e){return e-1}))},onForward:function(){r((function(e){return e+1}))}}),Object($.jsx)(De.a,{className:e.progressBar,value:a,max:v.cards.length-1,valueLabelFormat:function(e){return e+1},onChange:function(e,t){return r(t)}})]})]}),Object($.jsxs)("section",{className:e.section,children:[Object($.jsx)(B.a,{variant:"h5",children:"Tags"}),Object($.jsx)("div",{className:e.tagList,children:m.map((function(e){return Object($.jsx)(Be.a,{label:e,variant:"outlined"},e)}))})]}),Object($.jsxs)("section",{className:e.section,children:[Object($.jsx)(B.a,{variant:"h5",children:"Terms"}),Object($.jsx)(Le,{cards:v.cards})]})]})})})]})}function Ye(e){var t=e.isAuthenticated;return Object($.jsx)(j.a,{children:Object($.jsxs)(b.d,{children:[Object($.jsx)(b.b,{exact:!0,path:y.home,children:t?Object($.jsx)(b.a,{to:y.dashboard}):Object($.jsx)(je,{})}),Object($.jsx)(b.b,{path:y.dashboard,children:Object($.jsx)(ne,{userId:k.getCurrentUser()})}),Object($.jsx)(b.b,{exact:!0,path:"".concat(y.decks,"/:id"),children:Object($.jsx)(Xe,{})}),Object($.jsx)(b.b,{path:"".concat(y.decks,"/:id/edit"),children:Object($.jsx)(we,{})}),Object($.jsx)(b.b,{path:y.deckAdd,children:Object($.jsx)(we,{})})]})})}function $e(){var e,t=Object(c.useState)({loggedIn:new Date(1e3*JSON.parse(null!==(e=localStorage.getItem("accessTokenPayload"))&&void 0!==e?e:'{"exp": 0}').exp)>new Date}),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(l.a,{}),Object($.jsx)(u.Provider,{value:a,children:Object($.jsx)(d.Provider,{value:function(e){r((function(t){return Object(s.a)(Object(s.a)({},t),e)}))},children:Object($.jsx)(Ye,{isAuthenticated:a.loggedIn})})})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,204)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object($.jsx)(c.StrictMode,{children:Object($.jsx)($e,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),_e()}},[[132,1,2]]]);
//# sourceMappingURL=main.69733514.chunk.js.map
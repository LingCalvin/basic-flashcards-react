(this["webpackJsonpbasic-flashcards-react"]=this["webpackJsonpbasic-flashcards-react"]||[]).push([[10],{177:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(28),a=n.n(r),c=n(24),i=n(48),o=n(31),s=n(32),u=n(39),d=n(46),l=new(function(){function t(e){Object(o.a)(this,t),this.http=e}return Object(s.a)(t,[{key:"create",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r,i,o,s,d;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.title,r=e.description,i=e.visibility,o=e.cards,t.next=3,this.http.post("/decks",{authorId:u.a.getCurrentUser(),title:n,description:r,visibility:i,cards:o.map((function(t){var e=Object(c.a)(t.sides,2);return{frontText:e[0].text,backText:e[1].text}}))});case 3:return s=t.sent,d=s.data,t.abrupt("return",d);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"findOne",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.get("/decks/".concat(e));case 2:return n=t.sent,r=n.data,t.abrupt("return",p(r));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"findAll",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.get("/decks",{params:e});case 2:return n=t.sent,r=n.data,t.abrupt("return",{decks:r.decks.map(p),count:r.count});case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r,i,o,s,d,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,r=e.title,i=e.description,o=e.visibility,s=e.cards,t.next=3,this.http.put("/decks/".concat(n),{authorId:u.a.getCurrentUser(),title:r,description:i,visibility:o,cards:s.map((function(t){var e=t.id,n=Object(c.a)(t.sides,2);return{id:e,frontText:n[0].text,backText:n[1].text}}))});case 3:return d=t.sent,l=d.data,t.abrupt("return",l);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"remove",value:function(){var t=Object(i.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.http.delete("/decks/".concat(e)));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}())(d.a);function p(t){return{id:t.id,authorId:t.authorId,title:t.title,description:t.description,visibility:t.visibility,cards:t.cards.map((function(t){return{id:t.id,sides:[{text:t.frontText},{text:t.backText}]}})),tags:[]}}},178:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(190),a=n(25),c=n(2);function i(t){var e=t.to,n=t.color,i=t.children;return Object(c.jsx)(r.a,{component:a.b,to:e,color:n,children:i})}},179:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(191),a=n(4),c=n(157),i=Object(c.a)({root:{display:"flex",justifyContent:"center"}}),o=n(2);function s(t){var e=t.loading,n=t.children,c=t.className,s=i();return e?Object(o.jsx)("div",{className:Object(a.a)(s.root,c),children:Object(o.jsx)(r.a,{})}):Object(o.jsx)(o.Fragment,{children:n})}},181:function(t,e,n){"use strict";function r(t){return"/decks/".concat(t)}n.d(e,"a",(function(){return r}))},184:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(129),a=n(130),c=n(162),i=n(178),o=n(157),s=Object(o.a)((function(t){return{root:{cursor:"pointer",padding:t.spacing(2),"&:hover":{backgroundColor:t.palette.action.hover}},title:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},buttonBox:{display:"flex",justifyContent:"flex-end"},deleteButton:{color:t.palette.error.dark}}})),u=n(2);function d(t){var e=t.title,n=(t.deckId,t.numberOfCards),o=t.author,d=t.onClick,l=t.onDelete,p=t.onExport,f=t.onEdit,h=s();return Object(u.jsxs)(r.a,{className:h.root,onClick:d,children:[Object(u.jsx)(a.a,{className:h.title,variant:"h5",component:"div",children:e}),Object(u.jsx)(a.a,{children:"".concat(n," cards")}),o&&Object(u.jsxs)(a.a,{onClick:function(t){return t.stopPropagation()},component:"span",children:["By ",Object(u.jsx)(i.a,{to:"/users/".concat(o),children:o})]}),(l||p||f)&&Object(u.jsxs)("div",{className:h.buttonBox,children:[l&&Object(u.jsx)(c.a,{className:h.deleteButton,onClick:function(t){t.stopPropagation(),l()},children:"Delete"}),p&&Object(u.jsx)(c.a,{onClick:function(t){t.stopPropagation(),p()},children:"Export"}),f&&Object(u.jsx)(c.a,{color:"primary",onClick:function(t){t.stopPropagation(),f()},children:"Edit"})]})]})}},337:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return j}));var r=n(24),a=n(303),c=n(0),i=n(9),o=n(179),s=n(184),u=n(12),d=n(181),l=n(177),p=n(157),f=Object(p.a)((function(t){return{content:{padding:t.spacing(3)},paginationContainer:{display:"flex",flexDirection:"column",gap:t.spacing(2)},paginationControls:{display:"flex",justifyContent:"center"},results:{display:"flex",flexDirection:"column",gap:t.spacing(1)}}}));function h(t,e,n){return Math.max(t,Math.min(e,n))}var b=n(2);function j(){var t,e=f(),n=Object(c.useState)([]),p=Object(r.a)(n,2),j=p[0],v=p[1],x=Object(c.useState)(0),O=Object(r.a)(x,2),m=O[0],g=O[1],k=Object(i.h)().search,y=new URLSearchParams(k),C=null!==(t=y.get("term"))&&void 0!==t?t:"",w=y.get("pageSize"),I=h(1,50,w?+w:10),N=Math.max(1,Math.ceil(m/I)),S=y.get("page"),E=h(1,N,S?+S:1),T=y.get("from"),U=Object(c.useState)(!0),B=Object(r.a)(U,2),P=B[0],D=B[1],M=Object(i.g)();return Object(c.useEffect)((function(){T&&(y.delete("from"),M.replace({search:y.toString()}))})),Object(c.useEffect)((function(){if(!T)return C?void l.a.findAll({titleContains:C,caseInsensitive:!0,take:I,skip:(E-1)*I}).then((function(t){var e=t.decks,n=t.count;v(e),g(n)})).finally((function(){return D(!1)})):(D(!1),void v([]))}),[T,E,I,C]),Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:e.content,children:Object(b.jsx)(o.a,{loading:P,children:Object(b.jsxs)("div",{className:e.paginationContainer,children:[Object(b.jsx)("div",{className:e.results,children:j.map((function(t){var e,n;return Object(b.jsx)(s.a,{deckId:null!==(e=t.id)&&void 0!==e?e:"",title:t.title,numberOfCards:t.cards.length,author:null!==(n=t.authorId)&&void 0!==n?n:"",onClick:function(){var e;return M.push(Object(d.a)(null!==(e=t.id)&&void 0!==e?e:""))}},t.id)}))}),m/I>1&&Object(b.jsx)("div",{className:e.paginationControls,children:Object(b.jsx)(a.a,{count:N,page:E,onChange:function(t,e){return M.push({pathname:u.a.deckSearch,search:"?term=".concat(encodeURIComponent(C),"&page=").concat(encodeURIComponent(e),"&pageSize=").concat(encodeURIComponent(I))})},disabled:P})})]})})})})}}}]);
//# sourceMappingURL=10.a825c41a.chunk.js.map